{"version":3,"sources":["views/EarningPools/EarningWalletConnected/components/EarningWalletTab.tsx","views/EarningPools/hooks/useHavestPool.ts","views/EarningPools/hooks/useStakePool.ts","views/EarningPools/EarningWalletConnected/components/Pool/Actions/PoolHavestAction.tsx","views/EarningPools/EarningWalletConnected/components/Pool/PoolHavestCard.tsx","views/EarningPools/EarningWalletConnected/components/Pool/Modals/NotEnoughTokensModal.tsx","views/EarningPools/EarningWalletConnected/components/Pool/Modals/PercentageButton.tsx","views/EarningPools/hooks/useUnstakePool.ts","views/EarningPools/EarningWalletConnected/components/Pool/Modals/StakeModal.tsx","views/EarningPools/EarningWalletConnected/components/Pool/Actions/PoolStakeAction.tsx","views/EarningPools/EarningWalletConnected/components/Pool/PoolStakeCard.tsx","views/EarningPools/hooks/useApprovePool.ts","views/EarningPools/EarningWalletConnected/components/Pool/PoolCardSelectedModal.tsx","views/EarningPools/EarningWalletConnected/components/Pool/PoolCardItem.tsx","views/EarningPools/EarningWalletConnected/EarningWalletConnected.tsx","state/pools/hooks.ts","utils/calls/farms.ts","utils/calls/pools.ts","utils/calls/nfts.ts","components/BaseLayout.tsx","utils/latinise.ts","hooks/useLastUpdated.ts"],"names":["TabStatus","styled","ButtonMenuItem","theme","isActive","isDark","options","gasLimit","DEFAULT_GAS_LIMIT","harvestPool","sousChefContract","deposit","tx","wait","receipt","status","harvestPoolBnb","value","useHarvestPool","sousId","isUsingBnb","dispatch","useAppDispatch","useWeb3React","account","useSousChef","masterChefContract","useMasterchef","handleHarvest","useCallback","harvestFarm","updateUserPendingReward","updateUserBalance","onReward","sousStake","amount","decimals","BigNumber","times","BIG_TEN","pow","toString","sousStakeBnb","DEFAULT_TOKEN_DECIMAL","useStakePool","handleStake","stakeFarm","updateUserStakedBalance","onStake","ActionButtonContainer","div","ActionButton","Button","PoolHavestAction","onDismiss","earnings","earningToken","isBnbPool","t","useTranslation","fullBalance","getFullDisplayBalance","hasEarnings","toNumber","isCompoundPool","useToast","toastSuccess","toastError","useState","pendingTx","setPendingTx","handleHarvestConfirm","symbol","console","error","disabled","onClick","isLoading","endIcon","spin","color","style","verticalAlign","StyledCard","TokenImageContainer","TokenAmount","Earned","PoolHavestCard","earning","pool","poolCategory","PoolCategory","BINANCE","src","getAddress","address","alt","Math","round","getBalanceAmount","StyledLink","Link","StyledButton","StyledButton1","NotEnoughTokensModal","tokenSymbol","title","bold","mt","href","variant","width","external","ml","PercentageButton","children","scale","mx","p","sousUnstake","withdraw","sousEmergencyUnstake","emergencyWithdraw","useUnstakePool","enableEmergencyWithdraw","handleUnstake","unstakeFarm","onUnstake","StyledInput","BalanceInput","mediaQueries","xs","sm","StyledModal","Modal","StakeModal","stakingTokenBalance","stakingTokenPrice","isRemovingStake","stakingToken","userData","stakingLimit","useTheme","stakeAmount","setStakeAmount","hasReachedStakeLimit","setHasReachedStakedLimit","getCalculatedStakingLimit","stakedBalance","gt","usdValueStaked","formatNumber","useEffect","fullDecimalStakeAmount","getDecimalAmount","plus","handleChangePercent","sliderPercent","percentageOfStakingMax","dividedBy","multipliedBy","amountToStake","handleConfirmClick","headerBackground","colors","gradients","cardHeader","mb","textAlign","fontSize","token","alignItems","justifyContent","minWidth","height","onUserInput","input","currencyValue","isWarning","balance","parseFloat","ActionPlusButton","IconButton","PoolStakeAction","isStaked","isFinished","useModal","onPresentTokenRequired","onPresentStake","onPresentUnstake","useTooltip","placement","targetRef","tooltip","tooltipVisible","reachStakingLimit","gte","flexDirection","marginRight","ref","Card","PoolStakeCard","allowance","allowanceAsString","tokenBalanceAsString","stakedBalanceAsString","setIsApproved","isAppr","isGreaterThan","lpContract","earningTokenSymbol","requestedApproval","setRequestedApproval","approved","setapproved","handleApprove","approve","ethers","constants","MaxUint256","updateUserAllowance","useApprovePool","useERC20","ConnectWalletButton","ModalContainer","Row","Col","StyledHeader","TokenName","Description","StyledTokenImage","img","CustomModal","pendingReward","earningsAsString","display","StyledCardTitle","StyledBorder","span","ColLeft","ColLeftMin","ColRight","ColRightMin","StyledBadge","StyledBadgeStar","StyledSelectButton","PoolCardItem","onCardClick","apr","totalStaked","endBlock","StyledFlexLayout","BaseLayout","StyledContent","Wrapper","StyledTitle","EarningWalletConnected","useFarms","farmsLP","data","colaPrice","userDataLoaded","usePriceColaBusd","fastRefresh","useRefresh","fetchPoolsUserDataAsync","useSelector","state","pools","map","transformPool","usePools","poolsWithoutAutoVault","userPoolDataLoaded","TabColaStaking","tabStatus","log","Number","useMemo","partition","stakeColaPools","earnColaPools","usePollFarmsData","slowRefresh","fetchPoolsPublicData","simpleRpcProvider","getBlockNumber","blockNumber","fetchPoolsPublicDataAsync","fetchPoolsStakingLimitsAsync","useFetchPublicPoolsData","activeFarms","filter","farm","pid","multiplier","isArchivedPid","farmsList","farmsToDisplay","farmsToDisplayWithAPR","lpTotalInQuoteToken","quoteToken","busdPrice","totalLiquidity","lpAddress","lpAddresses","getFarmApr","poolWeight","cakeRewardsApr","lpRewardsApr","liquidity","chosenFarms","TabHot","TabEarnCola","TabNFT","TabOthers","TabEnded","chosenPools","pair","getActivePools","block","eligiblePools","undefined","startBlockCalls","contractAddress","name","endBlockCalls","multicall","sousChefV2","startBlocks","endBlocks","reduce","accum","poolCheck","index","startBlock","lte","utils","parseEther","overrides","mintNFT","nftContract","tokenID","mint","burnNFT","burn","getTokenURI","tokenURI","uri","approveMatchaToken","matchaTokenContract","nftExchangeAddr","getApproveMatchaToken","owner","spender","approveNFT","originalNftContract","getApproveNFT","getApproved","buyToken","nftExchangeContract","readyToSellToken","price","cancelSellToken","setCurrentPrice","getAskLength","askLen","getAsks","getAsksDesc","getAsksByPage","page","size","getAsksByPageDesc","getAsksByUser","user","getAsksByUserDesc","GridLayout","Grid","Latinise","latin_map","τ","Τ","latinise","replace","x","useLastUpdated","Date","now","lastUpdated","setStateLastUpdated","previousLastUpdated","usePreviousValue","setLastUpdated"],"mappings":"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","file":"static/js/6.ca8115ed.chunk.js","sourcesContent":["// eslint-disable-next-line\n\nimport React from 'react'\nimport styled from 'styled-components'\nimport { useTranslation } from 'contexts/Localization'\nimport { ButtonMenu, ButtonMenuItem } from 'parsec-swap-uikit'\n\nconst StyledButtonMenuItem = styled(ButtonMenuItem)<{ isActive: boolean }>`\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 21px;\n  color: ${({ theme, isActive }) =>\n    isActive ? 'white' : theme.isDark ? 'rgba(185, 185, 185, 0.39)' : 'rgba(0, 0, 0, 0.39)'};\n`\n// const TabContainer = styled(ButtonMenu)`\n//   background: transparent;\n//   border: none;\n//   margin-top: 10px;\n//   margin-bottom: 10px;\n//   flex-wrap: wrap;\n//   justify-content: center;\n// `\n\n// const TabItem = styled(Text)<{ isActive: boolean }>`\n//   position: relative;\n//   color: ${({ isActive, theme }) =>\n//     theme.isDark ? (isActive ? '#959596' : '#4f5f6f') : isActive ? '#4f5f6f' : '#959596'};\n//   cursor: pointer;\n//   font-size: 22px;\n//   font-weight: bold;\n//   text-decoration: none;\n//   border-bottom: ${({ isActive, theme }) =>\n//     theme.isDark ? (isActive ? '4px solid #959596' : 'none') : isActive ? '4px solid #4f5f6f' : 'none'};\n//   white-space: nowrap;\n//   margin: 10px 30px;\n//   font-family: 'Roboto';\n// `\n\nconst tabBtnArray = [{ id: 1, btnName: 'MOS Staking' }]\n\nexport enum TabStatus {\n  TabHot,\n  TabEarnCola,\n  TabColaStaking,\n  TabOthers,\n  TabNFT,\n  TabEnded,\n}\n\nexport const EarningWalletTab = ({ getCardCount }) => {\n  const { t } = useTranslation()\n\n  // const [tabId, setTabIndex] = useState(0)\n\n  const [tabId, setTabIndex] = React.useState(0)\n\n  const handleClickTab = (newIndex) => {\n    setTabIndex(newIndex)\n    if (newIndex === 0) {\n      getCardCount(TabStatus.TabHot)\n    } else if (newIndex === 1) {\n      getCardCount(TabStatus.TabEarnCola)\n    } else if (newIndex === 2) {\n      getCardCount(TabStatus.TabColaStaking)\n    }\n  }\n\n  return (\n    <ButtonMenu activeIndex={tabId} onItemClick={handleClickTab}>\n      {tabBtnArray.map((tabBtn) => (\n        <StyledButtonMenuItem key={tabBtn.id} isActive={tabBtn.id === tabId}>\n          {t(`${tabBtn.btnName}`)}\n        </StyledButtonMenuItem>\n      ))}\n    </ButtonMenu>\n  )\n}\n","import { useCallback } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { useAppDispatch } from 'state'\nimport { updateUserBalance, updateUserPendingReward } from 'state/actions'\nimport { harvestFarm } from 'utils/calls'\nimport { BIG_ZERO } from 'utils/bigNumber'\nimport { useMasterchef, useSousChef } from 'hooks/useContract'\nimport { DEFAULT_GAS_LIMIT } from 'config'\n\nconst options = {\n  gasLimit: DEFAULT_GAS_LIMIT,\n}\n\nconst harvestPool = async (sousChefContract) => {\n  const tx = await sousChefContract.deposit('0', options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nconst harvestPoolBnb = async (sousChefContract) => {\n  const tx = await sousChefContract.deposit({ value: 0})\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nconst useHarvestPool = (sousId, isUsingBnb = false) => {\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n  const sousChefContract = useSousChef(sousId)\n  const masterChefContract = useMasterchef()\n\n  const handleHarvest = useCallback(async () => {\n    if (sousId === 0) {\n      await harvestFarm(masterChefContract, 0)\n    } else if (isUsingBnb) {\n      await harvestPoolBnb(sousChefContract)\n    } else {\n      await harvestPool(sousChefContract)\n    }\n    dispatch(updateUserPendingReward(sousId, account))\n    dispatch(updateUserBalance(sousId, account))\n  }, [account, dispatch, isUsingBnb, masterChefContract, sousChefContract, sousId])\n\n  return { onReward: handleHarvest }\n}\n\nexport default useHarvestPool\n","import { useCallback } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { useAppDispatch } from 'state'\nimport { updateUserStakedBalance, updateUserBalance } from 'state/actions'\nimport { stakeFarm } from 'utils/calls'\nimport BigNumber from 'bignumber.js'\nimport { DEFAULT_TOKEN_DECIMAL, DEFAULT_GAS_LIMIT } from 'config'\nimport { BIG_TEN } from 'utils/bigNumber'\nimport { useMasterchef, useSousChef } from 'hooks/useContract'\n\nconst options = {\n  gasLimit: DEFAULT_GAS_LIMIT,\n}\n\nconst sousStake = async (sousChefContract, amount, decimals = 18) => {\n  const tx = await sousChefContract.deposit(new BigNumber(amount).times(BIG_TEN.pow(decimals)).toString(), options)\n  const receipt = await tx.wait()\n  return receipt.status   \n}\n\nconst sousStakeBnb = async (sousChefContract, amount) => {\n  const tx = await sousChefContract.deposit({value:new BigNumber(amount).times(DEFAULT_TOKEN_DECIMAL).toString()})\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nconst useStakePool = (sousId: number, isUsingBnb = false) => {\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n  const masterChefContract = useMasterchef()\n  const sousChefContract = useSousChef(sousId)\n\n  const handleStake = useCallback(\n    async (amount: string, decimals: number) => {\n      if (sousId === 0) {\n        await stakeFarm(masterChefContract, 0, amount)\n      } else if (isUsingBnb) {\n        await sousStakeBnb(sousChefContract, amount)\n      } else {\n        await sousStake(sousChefContract, amount, decimals)\n      }\n      dispatch(updateUserStakedBalance(sousId, account))\n      dispatch(updateUserBalance(sousId, account))\n    },\n    [account, dispatch, isUsingBnb, masterChefContract, sousChefContract, sousId],\n  )\n\n  return { onStake: handleStake }\n}\n\nexport default useStakePool\n","import React, { useState } from 'react'\nimport { Button, AutoRenewIcon } from 'parsec-swap-uikit'\nimport styled from 'styled-components'\nimport BigNumber from 'bignumber.js'\nimport { Token } from 'config/constants/types'\nimport { useTranslation } from 'contexts/Localization'\nimport { getFullDisplayBalance } from 'utils/formatBalance'\nimport useToast from 'hooks/useToast'\nimport useHarvestPool from '../../../../hooks/useHavestPool'\nimport useStakePool from '../../../../hooks/useStakePool'\n\nconst ActionButtonContainer = styled.div`\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  margin-top: 29px;\n`\n\nconst ActionButton = styled(Button)`\n  background-color: #1fc7d4;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 50px;\n  border-radius: 32px;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 0px !important;\n`\n\ninterface PoolHavestActionProps {\n  onDismiss: () => void\n  earnings: BigNumber\n  earningToken: Token\n  sousId: number\n  isBnbPool: boolean\n}\n\nconst PoolHavestAction: React.FC<PoolHavestActionProps> = ({\n  onDismiss,\n  earnings,\n  earningToken,\n  sousId,\n  isBnbPool,\n}) => {\n  const { t } = useTranslation()\n\n  const fullBalance = getFullDisplayBalance(earnings, earningToken.decimals)\n  const hasEarnings = earnings.toNumber() > 0\n  const isCompoundPool = sousId === 0\n\n  const { toastSuccess, toastError } = useToast()\n  const { onReward } = useHarvestPool(sousId, isBnbPool)\n  const { onStake } = useStakePool(sousId, isBnbPool)\n  const [pendingTx, setPendingTx] = useState(false)\n\n  const handleHarvestConfirm = async () => {\n    setPendingTx(true)\n    // compounding\n    if (isCompoundPool) {\n      try {\n        await onStake(fullBalance, earningToken.decimals)\n        toastSuccess(\n          `${t('Compounded')}!`,\n          t('Your %symbol% earnings have been re-invested into the pool!', { symbol: earningToken.symbol }),\n        )\n        setPendingTx(false)\n      } catch (e) {\n        toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n        console.error(e)\n        setPendingTx(false)\n      }\n    } else {\n      // harvesting\n      try {\n        await onReward()\n        toastSuccess(\n          `${t('Harvested')}!`,\n          t('Your %symbol% earnings have been sent to your wallet!', { symbol: earningToken.symbol }),\n        )\n        setPendingTx(false)\n      } catch (e) {\n        toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n        console.error(e)\n        setPendingTx(false)\n      }\n    }\n    onDismiss()\n  }\n\n  return (\n    <ActionButtonContainer>\n      <ActionButton\n        disabled={!hasEarnings}\n        onClick={handleHarvestConfirm}\n        isLoading={pendingTx}\n        endIcon={pendingTx ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\n      >\n        <span style={{ verticalAlign: 'text-top' }}>{isCompoundPool ? t('Collect') : t('Harvest')}</span>\n      </ActionButton>\n    </ActionButtonContainer>\n  )\n}\n\nexport default PoolHavestAction\n","// eslint-disable-next-line\nimport React from 'react'\nimport BigNumber from 'bignumber.js'\nimport styled from 'styled-components'\nimport { useTranslation } from 'contexts/Localization'\nimport { getAddress } from 'utils/addressHelpers'\nimport { Pool } from 'state/types'\nimport { getBalanceAmount } from 'utils/formatBalance'\nimport { PoolCategory } from 'config/constants/types'\nimport PoolHavestAction from './Actions/PoolHavestAction'\n\nconst StyledCard = styled.div`\n  background: right top no-repeat ${({ theme }) => (theme.isDark ? `#141436` : `#FFFFFF`)};\n  border-radius: 10px;\n  width: 321px;\n  position: relative;\n  color: rgb(197, 133, 96);\n  text-align: center;\n  padding: 19px 15px 25px 15px;\n  @media screen and (max-width: 480px) {\n    width: 100%;\n  }\n`\n\nconst TokenImageContainer = styled.div`\n  text-align: center;\n  padding: 18px 0px;\n  border-radius: 32px;\n  background: ${({ theme }) => (theme.isDark ? 'rgba(0, 0, 0, 0.2)' : 'rgba(0, 0, 0, 0.1)')};\n  & img {\n    height: 75px;\n    width: 75px;\n    margin-bottom: 0px;\n    margin-top: 0px;\n  }\n`\n\nconst TokenAmount = styled.div`\n  box-sizing: border-box;\n  margin: 16px 0px 7px 0px;\n  min-width: 0px;\n  font-weight: 500;\n  font-size: 40px;\n  line-height: 48px;\n  color: ${({ theme }) => (theme.isDark ? '#D6D7E3' : '#000000')};\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`\n\nconst Earned = styled.div`\n  color: ${({ theme }) => (theme.isDark ? '#B9B9B999' : '#00000099')};\n  box-sizing: border-box;\n  margin-top: 8px;\n  min-width: 0px;\n  font-size: 16px;\n  font-weight: 600;\n`\n\nconst PoolHavestCard: React.FC<{ onDismiss: () => void; earning: BigNumber; pool: Pool }> = ({\n  onDismiss,\n  earning,\n  pool,\n}) => {\n  const { t } = useTranslation()\n  const isBnbPool = pool.poolCategory === PoolCategory.BINANCE\n  return (\n    <StyledCard>\n      <TokenImageContainer>\n        <img src={`/images/tokens/${getAddress(pool.earningToken.address)}.png`} alt=\"card-logo\" />\n      </TokenImageContainer>\n      <TokenAmount>{t(`${Math.round(getBalanceAmount(earning).toNumber() * 100000) / 100000}`)}</TokenAmount>\n      <Earned>{t(`${pool.earningToken.symbol} Earned`)}</Earned>\n      <PoolHavestAction\n        onDismiss={onDismiss}\n        earnings={earning}\n        earningToken={pool.earningToken}\n        sousId={pool.sousId}\n        isBnbPool={isBnbPool}\n      />\n    </StyledCard>\n  )\n}\n\nexport default PoolHavestCard\n","import React from 'react'\nimport { useTranslation } from 'contexts/Localization'\nimport styled from 'styled-components'\nimport { Modal, Text, Button, OpenNewIcon, Link } from 'parsec-swap-uikit'\n// import useTheme from 'hooks/useTheme'\n\ninterface NotEnoughTokensModalProps {\n  tokenSymbol: string\n  onDismiss?: () => void\n}\n\nconst StyledLink = styled(Link)`\n  width: 100%;\n  &:hover {\n    text-decoration: none;\n  }\n`\nconst StyledButton = styled(Button)`\n  background-image: linear-gradient(to left, #991cd1,#d4307a);\n  border-radius:32px;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 50px;\n  border-radius: 32px;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 25px 0px 0px 0px !important;\n`\nconst StyledButton1 = styled(Button)`\n  background-color: #ee6c4d;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 50px;\n  border-radius: 32px;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 15px 0px 0px 0px !important;\n  border: none;\n  svg {\n    fill: white;\n  }\n`\nconst NotEnoughTokensModal: React.FC<NotEnoughTokensModalProps> = ({ tokenSymbol, onDismiss }) => {\n  const { t } = useTranslation()\n  // const { theme } = useTheme()\n\n  return (\n    <Modal title={t('%symbol% required', { symbol: tokenSymbol })} onDismiss={onDismiss}>\n      <Text color=\"failure\" bold>\n        {t('Insufficient %symbol% balance', { symbol: tokenSymbol })}\n      </Text>\n      <Text mt=\"24px\">{t('You’ll need %symbol% to stake in this pool!', { symbol: tokenSymbol })}</Text>\n      <Text>\n        {t('Buy some %symbol%, or make sure your %symbol% isn’t in another pool or LP.', {\n          symbol: tokenSymbol,\n        })}\n      </Text>\n      <StyledLink href=\"/swap\">\n        <StyledButton variant=\"secondary\" mt=\"24px\" width=\"100%\">\n          {t('Buy')} {tokenSymbol}\n        </StyledButton>\n      </StyledLink>\n      <StyledLink href=\"https://yieldwatch.net\" external>\n        <StyledButton1 variant=\"secondary\" mt=\"8px\" width=\"100%\">\n          {t('Locate Assets')}\n          <OpenNewIcon color=\"primary\" ml=\"4px\" />\n        </StyledButton1>\n      </StyledLink>\n      <Button mt=\"24px\" variant=\"text\" onClick={onDismiss}>\n        {t('Close Window')}\n      </Button>\n    </Modal>\n  )\n}\n\nexport default NotEnoughTokensModal\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Button } from 'parsec-swap-uikit'\n\ninterface PercentageButtonProps {\n  onClick: () => void\n}\n\nconst StyledButton = styled(Button)`\n  flex-grow: 1;\n`\n\nconst PercentageButton: React.FC<PercentageButtonProps> = ({ children, onClick }) => {\n  return (\n    <StyledButton scale=\"xs\" mx=\"2px\" p=\"4px 16px\" variant=\"tertiary\" onClick={onClick}>\n      {children}\n    </StyledButton>\n  )\n}\n\nexport default PercentageButton\n","import { useCallback } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport BigNumber from 'bignumber.js'\nimport { useAppDispatch } from 'state'\nimport { updateUserStakedBalance, updateUserBalance, updateUserPendingReward } from 'state/actions'\nimport { unstakeFarm } from 'utils/calls'\nimport { useMasterchef, useSousChef } from 'hooks/useContract'\nimport { BIG_TEN } from 'utils/bigNumber'\n\nconst sousUnstake = async (sousChefContract, amount, decimals) => {\n  const tx = await sousChefContract.withdraw(new BigNumber(amount).times(BIG_TEN.pow(decimals)).toString())\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nconst sousEmergencyUnstake = async (sousChefContract) => {\n  const tx = await sousChefContract.emergencyWithdraw()\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nconst useUnstakePool = (sousId, enableEmergencyWithdraw = false) => {\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n  const masterChefContract = useMasterchef()\n  const sousChefContract = useSousChef(sousId)\n\n  const handleUnstake = useCallback(\n    async (amount: string, decimals: number) => {\n      if (sousId === 0) {\n        await unstakeFarm(masterChefContract, 0, amount)\n      } else if (enableEmergencyWithdraw) {\n        await sousEmergencyUnstake(sousChefContract)\n      } else {\n        await sousUnstake(sousChefContract, amount, decimals)\n      }\n      dispatch(updateUserStakedBalance(sousId, account))\n      dispatch(updateUserBalance(sousId, account))\n      dispatch(updateUserPendingReward(sousId, account))\n    },\n    [account, dispatch, enableEmergencyWithdraw, masterChefContract, sousChefContract, sousId],\n  )\n\n  return { onUnstake: handleUnstake }\n}\n\nexport default useUnstakePool\n","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { Modal, Text, Flex, Image, Button, BalanceInput, AutoRenewIcon, Link } from 'parsec-swap-uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport useTheme from 'hooks/useTheme'\nimport useToast from 'hooks/useToast'\nimport BigNumber from 'bignumber.js'\nimport { getFullDisplayBalance, formatNumber, getDecimalAmount } from 'utils/formatBalance'\nimport { Pool } from 'state/types'\nimport { getAddress } from 'utils/addressHelpers'\nimport PercentageButton from './PercentageButton'\nimport useStakePool from '../../../../hooks/useStakePool'\nimport useUnstakePool from '../../../../hooks/useUnstakePool'\n\nconst StyledInput = styled(BalanceInput)`\n  box-shadow: none;\n  width: 60px;\n  margin: 0 8px;\n  padding: 0 8px;\n  border-radius: 10px;\n  background-color: ${({ theme }) => (theme.isDark ? '#221712' : '#FFF3E0')};\n  ${({ theme }) => theme.mediaQueries.xs} {\n    width: 80px;\n  }\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    width: auto;\n  }\n`\nconst StyledLink = styled(Link)`\n  width: 100%;\n`\n\nconst StyledModal = styled(Modal)`\n  background-color: #030923;\n`\n\nconst StyledButton = styled(Button)`\n  background-image: linear-gradient(to left, #991cd1,#d4307a);\n  border-radius:32px;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 40px;\n  border-radius: 32px;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 3px 0px !important;\n  border: none;\n`\n\ninterface StakeModalProps {\n  isBnbPool: boolean\n  pool: Pool\n  stakingTokenBalance: BigNumber\n  stakingTokenPrice: number\n  isRemovingStake?: boolean\n  onDismiss?: () => void\n}\n\nconst StakeModal: React.FC<StakeModalProps> = ({\n  isBnbPool,\n  pool,\n  stakingTokenBalance,\n  stakingTokenPrice,\n  isRemovingStake = false,\n  onDismiss,\n}) => {\n  const { sousId, stakingToken, userData, stakingLimit, earningToken } = pool\n  const { t } = useTranslation()\n  const { theme } = useTheme()\n  const { onStake } = useStakePool(sousId, isBnbPool)\n  const { onUnstake } = useUnstakePool(sousId, pool.enableEmergencyWithdraw)\n  const { toastSuccess, toastError } = useToast()\n  const [pendingTx, setPendingTx] = useState(false)\n  const [stakeAmount, setStakeAmount] = useState('')\n  const [hasReachedStakeLimit, setHasReachedStakedLimit] = useState(false)\n  // const [percent, setPercent] = useState(0)\n  const getCalculatedStakingLimit = () => {\n    if (isRemovingStake) {\n      return userData.stakedBalance\n    }\n    return stakingLimit.gt(0) && stakingTokenBalance.gt(stakingLimit) ? stakingLimit : stakingTokenBalance\n  }\n\n  const usdValueStaked = stakeAmount && formatNumber(new BigNumber(stakeAmount).times(stakingTokenPrice).toNumber())\n\n  useEffect(() => {\n    if (stakingLimit.gt(0) && !isRemovingStake) {\n      const fullDecimalStakeAmount = getDecimalAmount(new BigNumber(stakeAmount), stakingToken.decimals)\n      setHasReachedStakedLimit(fullDecimalStakeAmount.plus(userData.stakedBalance).gt(stakingLimit))\n    }\n  }, [stakeAmount, stakingLimit, userData, stakingToken, isRemovingStake, setHasReachedStakedLimit])\n\n  const handleStakeInputChange = (input: string) => {\n    // if (input) {\n    //   const convertedInput = getDecimalAmount(new BigNumber(input), stakingToken.decimals)\n    //   const percentage = Math.floor(convertedInput.dividedBy(getCalculatedStakingLimit()).multipliedBy(100).toNumber())\n    //   setPercent(Math.min(percentage, 100))\n    // } else {\n    //   setPercent(0)\n    // }\n    setStakeAmount(input)\n  }\n\n  const handleChangePercent = (sliderPercent: number) => {\n    if (sliderPercent > 0) {\n      const percentageOfStakingMax = getCalculatedStakingLimit().dividedBy(100).multipliedBy(sliderPercent)\n      const amountToStake = getFullDisplayBalance(percentageOfStakingMax, stakingToken.decimals, stakingToken.decimals)\n      setStakeAmount(amountToStake)\n    } else {\n      setStakeAmount('')\n    }\n    // setPercent(sliderPercent)\n  }\n\n  const handleConfirmClick = async () => {\n    setPendingTx(true)\n\n    if (isRemovingStake) {\n      // unstaking\n      try {\n        await onUnstake(stakeAmount, stakingToken.decimals)\n        toastSuccess(\n          `${t('Unstaked')}!`,\n          t('Your %symbol% earnings have also been harvested to your wallet!', {\n            symbol: earningToken.symbol,\n          }),\n        )\n        setPendingTx(false)\n        onDismiss()\n      } catch (e) {\n        toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n        setPendingTx(false)\n      }\n    } else {\n      try {\n        // staking\n        await onStake(stakeAmount, stakingToken.decimals)\n        toastSuccess(\n          `${t('Staked')}!`,\n          t('Your %symbol% funds have been staked in the pool!', {\n            symbol: stakingToken.symbol,\n          }),\n        )\n        setPendingTx(false)\n        onDismiss()\n      } catch (e) {\n        toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n        setPendingTx(false)\n      }\n    }\n  }\n\n  return (\n    <StyledModal\n      title={isRemovingStake ? t('Unstake') : t('Stake in Pool')}\n      onDismiss={onDismiss}\n      headerBackground={theme.colors.gradients.cardHeader}\n    >\n      {stakingLimit.gt(0) && !isRemovingStake && (\n        <Text color=\"secondary\" bold mb=\"24px\" style={{ textAlign: 'center' }} fontSize=\"16px\">\n          {t('Max stake for this pool: %amount% %token%', {\n            amount: getFullDisplayBalance(stakingLimit, stakingToken.decimals, 0),\n            token: stakingToken.symbol,\n          })}\n        </Text>\n      )}\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"8px\">\n        <Text bold>{isRemovingStake ? t('Unstake') : t('Stake')}:</Text>\n        <Flex alignItems=\"center\" minWidth=\"70px\">\n          <Image\n            src={`/images/tokens/${getAddress(stakingToken.address)}.png`}\n            width={24}\n            height={24}\n            alt={stakingToken.symbol}\n          />\n          <Text ml=\"4px\" bold>\n            {stakingToken.symbol}\n          </Text>\n        </Flex>\n      </Flex>\n      <StyledInput\n        value={stakeAmount}\n        onUserInput={handleStakeInputChange}\n        currencyValue={stakingTokenPrice !== 0 && `~${usdValueStaked || 0} USD`}\n        isWarning={hasReachedStakeLimit}\n        decimals={stakingToken.decimals}\n      />\n      {hasReachedStakeLimit && (\n        <Text color=\"failure\" fontSize=\"12px\" style={{ textAlign: 'right' }} mt=\"4px\">\n          {t('Maximum total stake: %amount% %token%', {\n            amount: getFullDisplayBalance(new BigNumber(stakingLimit), stakingToken.decimals, 0),\n            token: stakingToken.symbol,\n          })}\n        </Text>\n      )}\n      <Text ml=\"auto\" color=\"textSubtle\" fontSize=\"12px\" mb=\"8px\">\n        {t('Balance: %balance%', {\n          balance: getFullDisplayBalance(getCalculatedStakingLimit(), stakingToken.decimals),\n        })}\n      </Text>\n      {/* <Slider\n        min={0}\n        max={100}\n        value={percent}\n        onValueChanged={handleChangePercent}\n        name=\"stake\"\n        valueLabel={`${percent}%`}\n        step={1}\n      /> */}\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mt=\"8px\">\n        <PercentageButton onClick={() => handleChangePercent(25)}>25%</PercentageButton>\n        <PercentageButton onClick={() => handleChangePercent(50)}>50%</PercentageButton>\n        <PercentageButton onClick={() => handleChangePercent(75)}>75%</PercentageButton>\n        <PercentageButton onClick={() => handleChangePercent(100)}>{t('Max')}</PercentageButton>\n      </Flex>\n      <StyledButton\n        isLoading={pendingTx}\n        endIcon={pendingTx ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\n        onClick={handleConfirmClick}\n        disabled={!stakeAmount || parseFloat(stakeAmount) === 0 || hasReachedStakeLimit}\n        mt=\"24px\"\n      >\n        {pendingTx ? t('Confirming') : t('Confirm')}\n      </StyledButton>\n      {!isRemovingStake && (\n        <StyledLink external href=\"/swap\">\n          <StyledButton mt=\"8px\" variant=\"secondary\">\n            {t('Get %symbol%', { symbol: stakingToken.symbol })}\n          </StyledButton>\n        </StyledLink>\n      )}\n    </StyledModal>\n  )\n}\n\nexport default StakeModal\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Flex, Button, IconButton, AddIcon, useModal, Skeleton, useTooltip } from 'parsec-swap-uikit'\nimport BigNumber from 'bignumber.js'\n\nimport { useTranslation } from 'contexts/Localization'\nimport { Pool } from 'state/types'\nimport NotEnoughTokensModal from '../Modals/NotEnoughTokensModal'\nimport StakeModal from '../Modals/StakeModal'\n\nconst ActionButtonContainer = styled.div`\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  margin-top: 29px;\n`\n\nconst ActionButton = styled(Button)`\n  background-color: #1fc7d4;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 50px;\n  border-radius: 32px;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 0px 10px !important;\n`\n\nconst ActionPlusButton = styled(IconButton)`\n  background-color: #1fc7d4;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 50px;\n  border-radius: 32px;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 0px !important;\n`\n\ninterface PoolStakeActionsProps {\n  pool: Pool\n  stakingTokenBalance: BigNumber\n  stakedBalance: BigNumber\n  isBnbPool: boolean\n  isStaked: ConstrainBoolean\n  isLoading?: boolean\n}\n\nconst PoolStakeAction: React.FC<PoolStakeActionsProps> = ({\n  pool,\n  stakingTokenBalance,\n  isBnbPool,\n  isStaked,\n  isLoading = false,\n}) => {\n  const { stakingToken, stakingTokenPrice, stakingLimit, isFinished, userData } = pool\n  const { t } = useTranslation()\n\n  const [onPresentTokenRequired] = useModal(<NotEnoughTokensModal tokenSymbol={stakingToken.symbol} />)\n\n  const [onPresentStake] = useModal(\n    <StakeModal\n      isBnbPool={isBnbPool}\n      pool={pool}\n      stakingTokenBalance={stakingTokenBalance}\n      stakingTokenPrice={stakingTokenPrice}\n    />,\n  )\n\n  const [onPresentUnstake] = useModal(\n    <StakeModal\n      stakingTokenBalance={stakingTokenBalance}\n      isBnbPool={isBnbPool}\n      pool={pool}\n      stakingTokenPrice={stakingTokenPrice}\n      isRemovingStake\n    />,\n  )\n\n  const { targetRef, tooltip, tooltipVisible } = useTooltip(\n    t('You’ve already staked the maximum amount you can stake in this pool!'),\n    { placement: 'bottom' },\n  )\n\n  const reachStakingLimit = stakingLimit.gt(0) && userData.stakedBalance.gte(stakingLimit)\n\n  const renderStakeAction = () => {\n    return isStaked ? (\n      <ActionButtonContainer>\n        <ActionButton onClick={onPresentUnstake} style={{ marginRight: '5px' }}>\n          {t('UnStake')}\n        </ActionButton>\n\n        {reachStakingLimit ? (\n          <span ref={targetRef}>\n            <ActionPlusButton variant=\"tetiary\" disabled>\n              <AddIcon color=\"textDisabled\" width=\"30px\" height=\"30px\" />\n            </ActionPlusButton>\n          </span>\n        ) : (\n          <ActionPlusButton\n            variant=\"tetiary\"\n            onClick={stakingTokenBalance.gt(0) ? onPresentStake : onPresentTokenRequired}\n            disabled={isFinished}\n          >\n            <AddIcon color=\"white\" width=\"30px\" height=\"30px\" />\n          </ActionPlusButton>\n        )}\n        {tooltipVisible && tooltip}\n      </ActionButtonContainer>\n    ) : (\n      <ActionButtonContainer>\n        <ActionButton\n          disabled={isFinished}\n          onClick={stakingTokenBalance.gt(0) ? onPresentStake : onPresentTokenRequired}\n        >\n          {t('Stake')}\n        </ActionButton>\n      </ActionButtonContainer>\n    )\n  }\n\n  return <Flex flexDirection=\"column\">{isLoading ? <Skeleton width=\"100%\" height=\"52px\" /> : renderStakeAction()}</Flex>\n}\n\nexport default PoolStakeAction\n","// eslint-disable-next-line\nimport React, { useState, useCallback, useEffect } from 'react'\nimport styled from 'styled-components'\nimport BigNumber from 'bignumber.js'\nimport { getAddress } from 'utils/addressHelpers'\nimport { useTranslation } from 'contexts/Localization'\nimport { useERC20 } from 'hooks/useContract'\nimport { Pool } from 'state/types'\nimport { getBalanceAmount } from 'utils/formatBalance'\nimport { Button } from 'parsec-swap-uikit'\nimport { PoolCategory } from 'config/constants/types'\nimport ConnectWalletButton from 'components/ConnectWalletButton'\nimport { useApprovePool } from '../../../hooks/useApprovePool'\nimport PoolStakeAction from './Actions/PoolStakeAction'\n\nconst Card = styled.div`\n  background: #141436;\n  border-radius: 10px;\n  width: 321px;\n  position: relative;\n  color: rgb(197, 133, 96);\n  text-align: center;\n  padding: 19px 15px 25px 15px;\n  @media screen and (max-width: 480px) {\n    width: 100%;\n  }\n`\n\nconst TokenImageContainer = styled.div`\n  text-align: center;\n  padding: 18px 0px;\n  border-radius: 32px;\n  background: ${({ theme }) => (theme.isDark ? 'rgba(0, 0, 0, 0.2)' : 'rgba(0, 0, 0, 0.1)')};\n  & img {\n    height: 75px;\n    width: 75px;\n    margin-bottom: 0px;\n    margin-top: 0px;\n  }\n`\n\nconst TokenAmount = styled.div`\n  box-sizing: border-box;\n  margin: 16px 0px 7px 0px;\n  min-width: 0px;\n  font-weight: 500;\n  font-size: 40px;\n  line-height: 48px;\n  color: ${({ theme }) => (theme.isDark ? '#D6D7E3' : '#000000')};\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`\n\nconst Earned = styled.div`\n  color: ${({ theme }) => (theme.isDark ? '#B9B9B999' : '#00000099')};\n  box-sizing: border-box;\n  margin-top: 8px;\n  min-width: 0px;\n  font-size: 16px;\n  font-weight: 600;\n`\n\nconst ActionButtonContainer = styled.div`\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  margin-top: 29px;\n`\n\nconst ActionButton = styled(Button)`\n  background-color: #1fc7d4;\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  height: 50px;\n  border-radius: 32px;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  text-align: center;\n  color: #f8f8f8;\n  box-shadow: none;\n  margin: 0px !important;\n`\n\nconst PoolStakeCard: React.FC<{\n  pool: Pool\n  account?: string\n}> = ({ pool, account }) => {\n  const { t } = useTranslation()\n  const {\n    allowance: allowanceAsString = 0,\n    stakingTokenBalance: tokenBalanceAsString = 0,\n    stakedBalance: stakedBalanceAsString = 0,\n  } = pool.userData || {}\n  const [isApproved, setIsApproved] = useState(false)\n\n  const stakingTokenBalance = new BigNumber(tokenBalanceAsString)\n  const stakedBalance = new BigNumber(stakedBalanceAsString)\n\n  useEffect(() => {\n    const allowance = new BigNumber(allowanceAsString)\n    const isAppr = account && allowance && allowance.isGreaterThan(0)\n    setIsApproved(isAppr)\n  }, [account, allowanceAsString])\n\n  const { sousId, stakingToken, earningToken, poolCategory } = pool\n\n  // Pools using native PSC behave differently than pools using a token\n  const isBnbPool = true\n  const isStaked = stakedBalance.gt(0)\n\n  const stakingTokenContract = useERC20(stakingToken.address ? getAddress(stakingToken.address) : '')\n  const { handleApprove, requestedApproval, approved } = useApprovePool(stakingTokenContract, sousId, earningToken.symbol)\n\n  const renderApprovalOrStakeButton = () => {\n    return isApproved || approved || isBnbPool ? (\n      <PoolStakeAction\n        pool={pool}\n        stakingTokenBalance={stakingTokenBalance}\n        stakedBalance={stakedBalance}\n        isBnbPool={isBnbPool}\n        isStaked={isStaked}\n      />\n    ) : (\n      <ActionButtonContainer>\n        <ActionButton disabled={requestedApproval} onClick={handleApprove}>\n          {t('Approves')}\n        </ActionButton>\n      </ActionButtonContainer>\n    )\n  }\n\n  return (\n    <Card>\n      <TokenImageContainer>\n        <img src={`/images/tokens/${getAddress(pool.stakingToken.address)}.png`} alt=\"card-logo\" />\n      </TokenImageContainer>\n      <TokenAmount>{getBalanceAmount(stakedBalance).toNumber()}</TokenAmount>\n      <Earned>{pool.stakingToken.symbol + t(' Staked')}</Earned>\n\n      {!account ? <ConnectWalletButton scale=\"sm\" /> : renderApprovalOrStakeButton()}\n    </Card>\n  )\n}\n\nexport default PoolStakeCard\n","import { useCallback, useEffect, useState } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { ethers, Contract } from 'ethers'\nimport BigNumber from 'bignumber.js'\nimport { useAppDispatch } from 'state'\nimport { updateUserAllowance } from 'state/actions'\nimport { useTranslation } from 'contexts/Localization'\nimport { useCake, useSousChef, useCakeVaultContract } from 'hooks/useContract'\nimport useToast from 'hooks/useToast'\nimport useLastUpdated from 'hooks/useLastUpdated'\n\nexport const useApprovePool = (lpContract: Contract, sousId, earningTokenSymbol) => {\n  const [requestedApproval, setRequestedApproval] = useState(false)\n  const [approved, setapproved] = useState(false)\n  const { toastSuccess, toastError } = useToast()\n  const { t } = useTranslation()\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n  const sousChefContract = useSousChef(sousId)\n\n  const handleApprove = useCallback(async () => {\n    try {\n      setRequestedApproval(true)\n      const tx = await lpContract.approve(sousChefContract.address, ethers.constants.MaxUint256)\n      const receipt = await tx.wait()\n      dispatch(updateUserAllowance(sousId, account))\n      if (receipt.status) {\n        toastSuccess(\n          t('Contract Enabled'),\n          t('You can now stake in the %symbol% pool!', { symbol: earningTokenSymbol }),\n          )\n          setapproved(true)\n        setRequestedApproval(false)\n      } else {\n        // user rejected tx or didn't go thru\n        toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n        setRequestedApproval(false)\n      }\n    } catch (e) {\n      console.error(e)\n      setRequestedApproval(false)\n      toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n    }\n  }, [account, dispatch, lpContract, sousChefContract, sousId, earningTokenSymbol, t, toastError, toastSuccess])\n\n  return { handleApprove, requestedApproval,approved }\n}\n\n// Approve CAKE auto pool\nexport const useVaultApprove = (setLastUpdated: () => void) => {\n  const [requestedApproval, setRequestedApproval] = useState(false)\n  const { t } = useTranslation()\n  const { toastSuccess, toastError } = useToast()\n  const cakeVaultContract = useCakeVaultContract()\n  const cakeContract = useCake()\n\n  const handleApprove = async () => {\n    const tx = await cakeContract.approve(cakeVaultContract.address, ethers.constants.MaxUint256)\n    setRequestedApproval(true)\n    const receipt = await tx.wait()\n    if (receipt.status) {\n      toastSuccess(t('Contract Enabled'), t('You can now stake in the %symbol% vault!', { symbol: 'CAKE' }))\n      setLastUpdated()\n      setRequestedApproval(false)\n    } else {\n      toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\n      setRequestedApproval(false)\n    }\n  }\n\n  return { handleApprove, requestedApproval }\n}\n\nexport const useCheckVaultApprovalStatus = () => {\n  const [isVaultApproved, setIsVaultApproved] = useState(false)\n  const { account } = useWeb3React()\n  const cakeContract = useCake()\n  const cakeVaultContract = useCakeVaultContract()\n  const { lastUpdated, setLastUpdated } = useLastUpdated()\n  useEffect(() => {\n    const checkApprovalStatus = async () => {\n      try {\n        const response = await cakeContract.allowance(account, cakeVaultContract.address)\n        const currentAllowance = new BigNumber(response.toString())\n        setIsVaultApproved(currentAllowance.gt(0))\n      } catch (error) {\n        setIsVaultApproved(false)\n      }\n    }\n\n    checkApprovalStatus()\n  }, [account, cakeContract, cakeVaultContract, lastUpdated])\n\n  return { isVaultApproved, setLastUpdated }\n}\n","import React from 'react'\nimport BigNumber from 'bignumber.js'\nimport { getAddress } from 'utils/addressHelpers'\nimport { ModalContainer, InjectedModalProps, ModalCloseButton } from 'parsec-swap-uikit'\nimport { Pool } from 'state/types'\nimport styled from 'styled-components'\n// import TopStakers from '../TopStakers'\nimport PoolHavestCard from './PoolHavestCard'\nimport PoolStakeCard from './PoolStakeCard'\n\nconst StyledModal = styled(ModalContainer)`\n  border: none;\n  box-shadow: none;\n  background-color: ${({ theme }) => (theme.isDark ? `#030923` : `#F0F2FA`)};\n  position: relative;\n  padding: 24px;\n  max-width: 840px;\n  // min-width: 1000px;\n  overflow: auto;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n  .cancel {\n    width: 30px;\n    height: 30px;\n    margin-top: 15px;\n    margin-right: 20px;\n  }\n  @media screen and (max-width: 940px) {\n    width: 90%;\n  }\n`\n\nconst StyledCard = styled.div`\n  position: relative;\n  justify-content: center;\n  & Button {\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n  }\n`\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  margin-bottom: 24px;\n  @media screen and (max-width: 940px) {\n    flex-direction: column;\n    margin-bottom: 0;\n  }\n`\n\nconst Col = styled.div`\n  text-align: center;\n  margin: 0 35px;\n  @media screen and (max-width: 940px) {\n    margin: 12px auto;\n  }\n  @media screen and (max-width: 480px) {\n    margin: 12px 0;\n  }\n`\n\nconst StyledHeader = styled.div`\n  color: ${({ theme }) => (theme.isDark ? '#ccccd2' : '#4f5f6f')};\n  text-align: center;\n  margin-bottom: 50px;\n`\n\nconst TokenName = styled.div`\n  box-sizing: border-box;\n  margin: 0px;\n  min-width: 0px;\n  font-size: 45px;\n  font-weight: 700;\n  color: ${({ theme }) => (theme.isDark ? '#ccccd2' : '#4f5f6f')};\n  line-height: 1.7;\n`\n\nconst Description = styled.div`\n  color: ${({ theme }) => (theme.isDark ? '#ccccd2' : '#4f5f6f')};\n  box-sizing: border-box;\n  margin: 0px;\n  min-width: 0px;\n  font-size: 18px;\n  font-weight: 500;\n`\n\nconst StyledTokenImage = styled.img`\n  height: 54px;\n`\n\ninterface PoolCardSelectedModalProps extends InjectedModalProps {\n  pool: Pool\n  account?: string\n}\n\nexport default function CustomModal({ onDismiss = () => null, pool, account }: PoolCardSelectedModalProps) {\n  const { pendingReward: earningsAsString = 0 } = pool.userData || {}\n\n  const earnings = new BigNumber(earningsAsString)\n\n  return (\n    <StyledModal minWidth=\"370px\">\n      <div style={{ textAlign: 'end' }}>\n        <ModalCloseButton onDismiss={onDismiss} />\n      </div>\n      <StyledCard>\n        <StyledHeader>\n          <div style={{ display: 'flex', justifyContent: 'center' }}>\n            <StyledTokenImage src={`/images/tokens/${getAddress(pool.stakingToken.address)}.png`} alt=\"card-logo\" />\n            <StyledTokenImage src={`/images/tokens/${getAddress(pool.earningToken.address)}.png`} alt=\"card-logo\" />\n          </div>\n          <TokenName>\n            {pool.stakingToken.symbol} to {pool.earningToken.symbol}\n          </TokenName>\n          <Description>\n            Deposit {pool.stakingToken.symbol} and earn {pool.earningToken.symbol}\n          </Description>\n        </StyledHeader>\n        <Row>\n          <Col>\n            <PoolHavestCard onDismiss={onDismiss} pool={pool} earning={earnings} />\n          </Col>\n          <Col>\n            <PoolStakeCard pool={pool} account={account} />\n          </Col>\n        </Row>\n        {/* <TopStakers /> */}\n      </StyledCard>\n    </StyledModal>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Button, useModal, AutoRenewIcon } from 'parsec-swap-uikit'\nimport useTheme from 'hooks/useTheme'\nimport { getAddress } from 'utils/addressHelpers'\nimport { Pool } from 'state/types'\nimport { useTranslation } from 'contexts/Localization'\nimport { getBalanceAmount } from 'utils/formatBalance'\nimport PoolCardSelectedModal from './PoolCardSelectedModal'\n\nconst StyledCard = styled.div`\n  background: right top no-repeat ${({ theme }) => (theme.isDark ? `#141436` : `rgb(255, 253, 250);`)};\n  border-radius: 10px;\n  position: relative;\n  width: 321px;\n  margin-bottom: 24px;\n  padding: 19px 15px;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n`\n\nconst StyledCardTitle = styled.div`\n  text-align: center;\n  margin: 18px 0 15px 0;\n  white-space: nowrap;\n  box-sizing: border-box;\n  min-width: 0px;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 24px;\n  white-space: break-spaces;\n  color: ${({ theme }) => (theme.isDark ? '#D6D7E3' : '#000000')};\n`\n\nconst Row = styled.div`\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 4px;\n  padding: 12px 0px;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 120%;\n`\nconst StyledBorder = styled.span`\n  background: rgba(0, 0, 0, 0.1);\n  height: 1px;\n  display: block;\n`\nconst ColLeft = styled.div`\n  text-align: left;\n  color: ${({ theme }) => (theme.isDark ? '#D6D7E3' : '#000000')};\n`\n\nconst ColLeftMin = styled.div`\n  text-align: left;\n  font-size: 14px;\n  color: ${({ theme }) => (theme.isDark ? '#D6D7E3' : '#000000')};\n`\n\nconst ColRight = styled.div`\n  text-align: right;\n  word-break: break-word;\n  color: ${({ theme }) => (theme.isDark ? '#B9B9B999' : '#00000099')};\n`\n\nconst ColRightMin = styled.div`\n  text-align: right;\n  font-size: 14px;\n  word-break: break-word;\n  color: ${({ theme }) => (theme.isDark ? '#B9B9B999' : '#00000099')};\n`\n\nconst StyledBadge = styled.div`\n  position: absolute;\n  top: -4px;\n  right: 25px;\n  width: 30px;\n  height: 40px;\n  background: url(/images/earning/mark.svg);\n  background-repeat: no-repeat;\n  background-position: center top;\n`\n\nconst StyledBadgeStar = styled.img`\n  filter: ${({ theme }) =>\n    theme.isDark\n      ? `brightness(5) contrast(5) hue-rotate(217deg) saturate(9.9)`\n      : `brightness(5) contrast(5) hue-rotate(217deg) saturate(9.9)`};\n  position: absolute;\n  top: 7px;\n  right: 5px;\n`\n\nconst StyledTokenImage = styled.div`\n  text-align: center;\n  padding: 18px 0px;\n  border-radius: 32px;\n  background: ${({ theme }) => (theme.isDark ? 'rgba(0, 0, 0, 0.2)' : 'rgba(0, 0, 0, 0.1)')};\n  & img {\n    height: 76.5px;\n    width: 76.5px;\n    margin-bottom: 0px;\n    margin-top: 0px;\n  }\n`\n\nconst StyledSelectButton = styled(Button)`\n  background-image: linear-gradient(to left, #991cd1,#d4307a);\n  color: white;\n  padding: 12px 0px;\n  width: 100%;\n  border-radius: 32px;\n  text-align: center;\n  border: 1px solid transparent;\n  font-weight: 500;\n  font-size: 17px;\n  line-height: 26px;\n  letter-spacing: 0.01em;\n  text-transform: none;\n  height: fit-content;\n  margin: 0px !important;\n  box-shadow: none;\n`\n\nconst PoolCardItem: React.FC<{ pool: Pool; account?: string; isLoading: boolean }> = ({ pool, account, isLoading }) => {\n  const theme = useTheme()\n  const { t } = useTranslation()\n  const [onCardClick] = useModal(<PoolCardSelectedModal pool={pool} account={account} />)\n  return (\n    <StyledCard>\n      <StyledBadge>\n        <StyledBadgeStar\n          src={theme.isDark ? 'images/earning/icon_star.svg' : 'images/earning/icon_star_white.svg'}\n          alt=\"card-logo\"\n        />\n      </StyledBadge>\n      <StyledTokenImage>\n        <img src={`/images/tokens/${getAddress(pool.stakingToken.address)}.png`} alt=\"card-logo\" />\n        <img src={`/images/tokens/${getAddress(pool.earningToken.address)}.png`} alt=\"card-logo\" />\n      </StyledTokenImage>\n      <StyledCardTitle>{t(`${pool.stakingToken.symbol} to ${pool.earningToken.symbol}`)}</StyledCardTitle>\n      <Row>\n        <ColLeft>{t('Stake:')}</ColLeft>\n        <ColRight>{t(`${getBalanceAmount(pool.userData.stakedBalance)} ${pool.stakingToken.symbol}`)}</ColRight>\n      </Row>\n      <StyledBorder />\n      <Row>\n        <ColLeft>{t('Earn:')}</ColLeft>\n        <ColRight>\n          {t(\n            `${Math.round(getBalanceAmount(pool.userData.pendingReward).toNumber() * 100000) / 100000} ${\n              pool.earningToken.symbol\n            }`,\n          )}\n        </ColRight>\n      </Row>\n      <StyledBorder />\n      <Row>\n        <ColLeft>{t('APR:')}</ColLeft>\n        <ColRight>{t(`${Math.round(pool.apr * 100000) / 100000}`)}</ColRight>\n      </Row>\n      <StyledBorder />\n      <Row>\n        <ColLeftMin>{t('Total staked:')}</ColLeftMin>\n        <ColRightMin>{t(`${getBalanceAmount(pool.totalStaked)}`)}</ColRightMin>\n      </Row>\n      <Row>\n        <ColLeftMin>{t('End in:')}</ColLeftMin>\n        <ColRightMin>{t(`${pool.endBlock} block`)}</ColRightMin>\n      </Row>\n      <Row>\n        <ColLeftMin>{t('Max stake per user:')}</ColLeftMin>\n        <ColRightMin>{t(`${getBalanceAmount(pool.stakingLimit)} `)}</ColRightMin>\n        {/* <ColRightMin style={{ width: '50px', overflow: 'hidden', textOverflow: 'clip' }}>\n          {t(`${pool.stakingLimit}`)}\n        </ColRightMin> */}\n      </Row>\n      <StyledSelectButton\n        onClick={onCardClick}\n        isLoading={isLoading}\n        endIcon={isLoading ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\n      >\n        {isLoading ? 'Loading' : 'SELECT'}\n      </StyledSelectButton>\n    </StyledCard>\n  )\n}\n\nexport default PoolCardItem\n","import React, { useState, useCallback, useMemo } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport BigNumber from 'bignumber.js'\nimport styled from 'styled-components'\n\nimport { useTranslation } from 'contexts/Localization'\nimport { getAddress } from 'utils/addressHelpers'\nimport { useFarms, usePollFarmsData, usePriceColaBusd } from 'state/farms/hooks'\n// import { useFetchPublicPoolsData, usePools, useCakeVault } from 'state/pools/hooks'\nimport { useFetchPublicPoolsData, usePools } from 'state/pools/hooks'\nimport isArchivedPid from 'utils/farmHelpers'\nimport { latinise } from 'utils/latinise'\n// import { Farm, Pool } from 'state/types'\nimport { Farm } from 'state/types'\nimport { getFarmApr } from 'utils/apr'\n// import { orderBy, partition } from 'lodash'\nimport { partition } from 'lodash'\n\nimport { TabStatus, EarningWalletTab } from './components/EarningWalletTab'\nimport WalletCardItem, { FarmWithStakedValue } from './components/WalletCardItem'\nimport PoolCardItem from './components/Pool/PoolCardItem'\nimport BaseLayout from '../../../components/BaseLayout'\n// import { getAprData, getCakeVaultEarnings } from './helpers'\n\nconst StyledFlexLayout = styled(BaseLayout)`\n  justify-content: center;\n  margin: 24px;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 0 20px;\n`\n\nconst StyledContent = styled.div`\n  display: flex;\n  \n  flex-direction: column;\n  align-items: center;\n`\n\nconst Wrapper = styled.div`\nbackground:#030923;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding-top: 30px;\n  -webkit-box-align: center;\n  align-items: center;\n  flex: 1 1 0%;\n  overflow: hidden auto;\n  z-index: 1;\n  min-height: calc(100vh - 64px);\n  // background-color: ${({ theme }) => (theme.isDark ? '#141c23' : '#cfcfcf')};\n  background-size: 150%;\n  // background: #030923;\n  // background-image: ${({ theme }) => (theme.isDark ? `url('/images/background1.png')` : `url('/images/light.png')`)};\n  background-repeat: no-repeat;\n  background-position: center;\n  // background: ${({ theme }) => (theme.isDark ? '#030923' : '#E5E5E5')};\n`\n\nconst StyledTitle = styled.div`  \n  box-sizing: border-box;\n  margin: 0px;\n  min-width: 0px;\n  font-weight: 700;\n  font-size: 25px;\n  line-height: 30px;\n  color: ${({ theme }) => (theme.isDark ? '#D6D7E3' : '#171717')};\n  padding: 10px 0;\n  margin-bottom: 20px;\n`\n\nconst EarningWalletConnected = () => {\n  const { t } = useTranslation()\n  const { data: farmsLP, userDataLoaded: userFarmDataLoaded } = useFarms()\n  const colaPrice = usePriceColaBusd()\n  const { account } = useWeb3React()\n  const { pools: poolsWithoutAutoVault, userDataLoaded: userPoolDataLoaded } = usePools(account)\n  const [tabStatus, setTabStatus] = useState(TabStatus.TabColaStaking)\n\n  // const [sortOption, setSortOption] = useState('hot')\n\n  // const {\n  //   userData: { cakeAtLastUserAction, userShares },\n  //   fees: { performanceFee },\n  //   pricePerFullShare,\n  //   totalCakeInVault,\n  // } = useCakeVault()\n  // const accountHasVaultShares = userShares && userShares.gt(0)\n  // const performanceFeeAsDecimal = performanceFee && performanceFee / 100\n  console.log(Number(poolsWithoutAutoVault[1].userData.pendingReward),\"ppppppppppppppppppppppppppppppp\")\n  const pools = useMemo(() => {\n    return [...poolsWithoutAutoVault]\n  }, [poolsWithoutAutoVault])\n\n  const [stakeColaPools] = useMemo(() => partition(pools, (pool) => pool.stakingToken.symbol !== 'MOSS'), [pools])\n  const [earnColaPools] = useMemo(() => partition(pools, (pool) => pool.earningToken.symbol !== 'MOSS'), [pools])\n\n  usePollFarmsData(false)\n  useFetchPublicPoolsData()\n\n  const activeFarms = farmsLP.filter((farm) => farm.pid !== 0 && farm.multiplier !== '0X' && !isArchivedPid(farm.pid))\n\n  const isActive = true\n  const query = ''\n  // const [query, setQuery] = useState('')\n  // const [isActive, setActive] = useState(true)\n\n  const farmsList = useCallback(\n    (farmsToDisplay: Farm[]): FarmWithStakedValue[] => {\n      let farmsToDisplayWithAPR: FarmWithStakedValue[] = farmsToDisplay.map((farm) => {\n        if (!farm.lpTotalInQuoteToken || !farm.quoteToken.busdPrice) {\n          return farm\n        }\n        const totalLiquidity = new BigNumber(farm.lpTotalInQuoteToken).times(farm.quoteToken.busdPrice)\n        const lpAddress = getAddress(farm.lpAddresses)\n        const { cakeRewardsApr, lpRewardsApr } = isActive\n          ? getFarmApr(new BigNumber(farm.poolWeight), colaPrice, totalLiquidity, lpAddress)\n          : { cakeRewardsApr: 0, lpRewardsApr: 0 }\n\n        return { ...farm, apr: cakeRewardsApr, lpRewardsApr, liquidity: totalLiquidity }\n      })\n\n      if (query) {\n        // const lowercaseQuery = latinise(query.toLowerCase())\n        const lowercaseQuery = latinise(query)\n        farmsToDisplayWithAPR = farmsToDisplayWithAPR.filter((farm: FarmWithStakedValue) => {\n          return latinise(farm.lpSymbol.toLowerCase()).includes(lowercaseQuery)\n        })\n      }\n      return farmsToDisplayWithAPR\n    },\n    [colaPrice, query, isActive],\n  )\n\n  const chosenFarmsMemoized = useMemo(() => {\n    let chosenFarms = []\n\n    // const sortFarms = (farms: FarmWithStakedValue[]): FarmWithStakedValue[] => {\n    //   switch (sortOption) {\n    //     case 'apr':\n    //       return orderBy(farms, (farm: FarmWithStakedValue) => farm.apr + farm.lpRewardsApr, 'desc')\n    //     case 'multiplier':\n    //       return orderBy(\n    //         farms,\n    //         (farm: FarmWithStakedValue) => (farm.multiplier ? Number(farm.multiplier.slice(0, -1)) : 0),\n    //         'desc',\n    //       )\n    //     case 'earned':\n    //       return orderBy(\n    //         farms,\n    //         (farm: FarmWithStakedValue) => (farm.userData ? Number(farm.userData.earnings) : 0),\n    //         'desc',\n    //       )\n    //     case 'liquidity':\n    //       return orderBy(farms, (farm: FarmWithStakedValue) => Number(farm.liquidity), 'desc')\n    //     default:\n    //       return farms\n    //   }\n    // }\n\n    switch (tabStatus) {\n      case TabStatus.TabHot:\n        chosenFarms = farmsList(activeFarms)\n        break\n      case TabStatus.TabEarnCola:\n        break\n      case TabStatus.TabColaStaking:\n        break\n      case TabStatus.TabNFT:\n        break\n      case TabStatus.TabOthers:\n        break\n      case TabStatus.TabEnded:\n        break\n      default:\n        break\n    }\n\n    // return sortFarms(chosenFarms)\n    return chosenFarms\n  }, [activeFarms, farmsList, tabStatus])\n  // }, [sortOption, activeFarms, farmsList, tabStatus])\n\n  const chosenPoolsMemoized = useMemo(() => {\n    let chosenPools\n    // const sortPools = (poolsToSort: Pool[]): Pool[] => {\n    //   switch (sortOption) {\n    //     case 'apr':\n    //       // Ternary is needed to prevent pools without APR (like MIX) getting top spot\n    //       return orderBy(\n    //         poolsToSort,\n    //         (pool: Pool) => (pool.apr ? getAprData(pool, performanceFeeAsDecimal).apr : 0),\n    //         'desc',\n    //       )\n    //     case 'earned':\n    //       return orderBy(\n    //         poolsToSort,\n    //         (pool: Pool) => {\n    //           if (!pool.userData || !pool.earningTokenPrice) {\n    //             return 0\n    //           }\n    //           return pool.isAutoVault\n    //             ? getCakeVaultEarnings(\n    //                 account,\n    //                 cakeAtLastUserAction,\n    //                 userShares,\n    //                 pricePerFullShare,\n    //                 pool.earningTokenPrice,\n    //               ).autoUsdToDisplay\n    //             : pool.userData.pendingReward.times(pool.earningTokenPrice).toNumber()\n    //         },\n    //         'desc',\n    //       )\n    //     case 'totalStaked':\n    //       return orderBy(\n    //         poolsToSort,\n    //         (pool: Pool) => (pool.isAutoVault ? totalCakeInVault.toNumber() : pool.totalStaked.toNumber()),\n    //         'desc',\n    //       )\n    //     default:\n    //       return poolsToSort\n    //   }\n    // }\n    chosenPools = stakeColaPools\n\n    switch (tabStatus) {\n      case TabStatus.TabHot:\n        break\n      case TabStatus.TabEarnCola:\n        chosenPools = earnColaPools\n        break\n      case TabStatus.TabColaStaking:\n        chosenPools = stakeColaPools\n        break\n      case TabStatus.TabNFT:\n        break\n      case TabStatus.TabOthers:\n        break\n      case TabStatus.TabEnded:\n        break\n      default:\n        break\n    }\n\n    // return sortPools(chosenPools)\n    return chosenPools\n  }, [\n    // sortOption,\n    // pools,\n    // account,\n    // cakeAtLastUserAction,\n    // performanceFeeAsDecimal,\n    // pricePerFullShare,\n    // totalCakeInVault,\n    // userShares,\n    tabStatus,\n    stakeColaPools,\n    earnColaPools,\n  ])\n\n  const callback = (status) => {\n    setTabStatus(status)\n  }\n\n  return (\n    <Wrapper>\n      <StyledContent>\n        <StyledTitle>{t('Earning')}</StyledTitle>\n\n        {/* <EarningWalletTab getCardCount={callback} /> */}\n\n        <StyledFlexLayout>\n          {pools.map((pool) => (\n            <PoolCardItem key={pool.sousId} pool={pool} account={account} isLoading={!userPoolDataLoaded} />\n          ))}\n        </StyledFlexLayout>\n      </StyledContent>\n    </Wrapper>\n  )\n}\n\nexport default EarningWalletConnected\n","import { useEffect, useMemo } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { useWeb3React } from '@web3-react/core'\nimport { useSelector } from 'react-redux'\nimport { useAppDispatch } from 'state'\nimport { simpleRpcProvider } from 'utils/providers'\nimport useRefresh from 'hooks/useRefresh'\nimport {\n  fetchPoolsPublicDataAsync,\n  fetchPoolsUserDataAsync,\n  fetchCakeVaultPublicData,\n  fetchCakeVaultUserData,\n  fetchCakeVaultFees,\n  fetchPoolsStakingLimitsAsync,\n} from '.'\nimport { State, Pool } from '../types'\nimport { transformPool } from './helpers'\n\nexport const useFetchPublicPoolsData = () => {\n  const dispatch = useAppDispatch()\n  const { slowRefresh } = useRefresh()\n\n  useEffect(() => {\n    const fetchPoolsPublicData = async () => {\n      const blockNumber = await simpleRpcProvider.getBlockNumber()\n      dispatch(fetchPoolsPublicDataAsync(blockNumber))\n    }\n\n    fetchPoolsPublicData()\n    dispatch(fetchPoolsStakingLimitsAsync())\n  }, [dispatch, slowRefresh])\n}\n\nexport const usePools = (account): { pools: Pool[]; userDataLoaded: boolean } => {\n  const { fastRefresh } = useRefresh()\n  const dispatch = useAppDispatch()\n  useEffect(() => {\n    if (account) {\n      dispatch(fetchPoolsUserDataAsync(account))\n    }\n  }, [account, dispatch, fastRefresh])\n\n  const { pools, userDataLoaded } = useSelector((state: State) => ({\n    pools: state.pools.data,\n    userDataLoaded: state.pools.userDataLoaded,\n  }))\n  return { pools: pools.map(transformPool), userDataLoaded }\n}\n\nexport const useFetchCakeVault = () => {\n  const { account } = useWeb3React()\n  const { fastRefresh } = useRefresh()\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    dispatch(fetchCakeVaultPublicData())\n  }, [dispatch, fastRefresh])\n\n  useEffect(() => {\n    dispatch(fetchCakeVaultUserData({ account }))\n  }, [dispatch, fastRefresh, account])\n\n  useEffect(() => {\n    dispatch(fetchCakeVaultFees())\n  }, [dispatch])\n}\n\nexport const useCakeVault = () => {\n  const {\n    totalShares: totalSharesAsString,\n    pricePerFullShare: pricePerFullShareAsString,\n    totalCakeInVault: totalCakeInVaultAsString,\n    estimatedCakeBountyReward: estimatedCakeBountyRewardAsString,\n    totalPendingCakeHarvest: totalPendingCakeHarvestAsString,\n    fees: { performanceFee, callFee, withdrawalFee, withdrawalFeePeriod },\n    userData: {\n      isLoading,\n      userShares: userSharesAsString,\n      cakeAtLastUserAction: cakeAtLastUserActionAsString,\n      lastDepositedTime,\n      lastUserActionTime,\n    },\n  } = useSelector((state: State) => state.pools.cakeVault)\n\n  const estimatedCakeBountyReward = useMemo(() => {\n    return new BigNumber(estimatedCakeBountyRewardAsString)\n  }, [estimatedCakeBountyRewardAsString])\n\n  const totalPendingCakeHarvest = useMemo(() => {\n    return new BigNumber(totalPendingCakeHarvestAsString)\n  }, [totalPendingCakeHarvestAsString])\n\n  const totalShares = useMemo(() => {\n    return new BigNumber(totalSharesAsString)\n  }, [totalSharesAsString])\n\n  const pricePerFullShare = useMemo(() => {\n    return new BigNumber(pricePerFullShareAsString)\n  }, [pricePerFullShareAsString])\n\n  const totalCakeInVault = useMemo(() => {\n    return new BigNumber(totalCakeInVaultAsString)\n  }, [totalCakeInVaultAsString])\n\n  const userShares = useMemo(() => {\n    return new BigNumber(userSharesAsString)\n  }, [userSharesAsString])\n\n  const cakeAtLastUserAction = useMemo(() => {\n    return new BigNumber(cakeAtLastUserActionAsString)\n  }, [cakeAtLastUserActionAsString])\n\n  return {\n    totalShares,\n    pricePerFullShare,\n    totalCakeInVault,\n    estimatedCakeBountyReward,\n    totalPendingCakeHarvest,\n    fees: {\n      performanceFee,\n      callFee,\n      withdrawalFee,\n      withdrawalFeePeriod,\n    },\n    userData: {\n      isLoading,\n      userShares,\n      cakeAtLastUserAction,\n      lastDepositedTime,\n      lastUserActionTime,\n    },\n  }\n}\n","import BigNumber from 'bignumber.js'\nimport { DEFAULT_GAS_LIMIT, DEFAULT_TOKEN_DECIMAL } from 'config'\n\nconst options = {\n  gasLimit: DEFAULT_GAS_LIMIT,\n}\n\nexport const stakeFarm = async (masterChefContract, pair, amount) => {\n  const value = new BigNumber(amount).times(DEFAULT_TOKEN_DECIMAL).toString()\n  const tx = await masterChefContract.deposit(pair, value, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const unstakeFarm = async (masterChefContract, pair, amount) => {\n  const value = new BigNumber(amount).times(DEFAULT_TOKEN_DECIMAL).toString()\n  const tx = await masterChefContract.withdraw(pair, value, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const harvestFarm = async (masterChefContract, pair) => {\n  const tx = await masterChefContract.deposit(pair, '0', options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n","/* eslint-disable import/prefer-default-export */\nimport BigNumber from 'bignumber.js'\nimport pools from 'config/constants/pools'\nimport sousChefV2 from 'config/abi/sousChefV2.json'\nimport multicall from '../multicall'\nimport { simpleRpcProvider } from '../providers'\nimport { getAddress } from '../addressHelpers'\n\n/**\n * Returns the total number of pools that were active at a given block\n */\nexport const getActivePools = async (block?: number) => {\n  const eligiblePools = pools\n    .filter((pool) => pool.sousId !== 0)\n    .filter((pool) => pool.isFinished === false || pool.isFinished === undefined)\n  const blockNumber = block || (await simpleRpcProvider.getBlockNumber())\n  const startBlockCalls = eligiblePools.map(({ contractAddress }) => ({\n    address: getAddress(contractAddress),\n    name: 'startBlock',\n  }))\n  const endBlockCalls = eligiblePools.map(({ contractAddress }) => ({\n    address: getAddress(contractAddress),\n    name: 'bonusEndBlock',\n  }))\n  const startBlocks = await multicall(sousChefV2, startBlockCalls)\n  const endBlocks = await multicall(sousChefV2, endBlockCalls)\n\n  return eligiblePools.reduce((accum, poolCheck, index) => {\n    const startBlock = startBlocks[index] ? new BigNumber(startBlocks[index]) : null\n    const endBlock = endBlocks[index] ? new BigNumber(endBlocks[index]) : null\n\n    if (!startBlock || !endBlock) {\n      return accum\n    }\n\n    if (startBlock.gte(blockNumber) || endBlock.lte(blockNumber)) {\n      return accum\n    }\n\n    return [...accum, poolCheck]\n  }, [])\n}\n","import { DEFAULT_GAS_LIMIT } from 'config'\nimport { ethers } from 'ethers'\n\nconst options = {\n  gasLimit: ethers.utils.parseEther('0.0000000000003'),\n}\n\nconst overrides = {\n  value: ethers.utils.parseEther('0.1'),\n  gasLimit: DEFAULT_GAS_LIMIT,\n}\n\nexport const mintNFT = async (nftContract, tokenID) => {\n  const tx = await nftContract.mint(tokenID, overrides)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const burnNFT = async (nftContract, address, tokenID) => {\n  const tx = await nftContract.burn(address, tokenID, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const getTokenURI = async (nftContract, address, tokenID) => {\n  const uri = await nftContract.tokenURI(tokenID)\n  return uri\n}\n\n// Exchange\nexport const approveMatchaToken = async (matchaTokenContract, nftExchangeAddr, amount) => {\n  const tx = await matchaTokenContract.approve(nftExchangeAddr, amount, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const getApproveMatchaToken = async (matchaTokenContract, owner, spender) => {\n  const value = await matchaTokenContract.allowance(owner, spender)\n  return value\n}\n\nexport const approveNFT = async (originalNftContract, nftExchangeAddr, tokenID) => {\n  const tx = await originalNftContract.approve(nftExchangeAddr, tokenID, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const getApproveNFT = async (originalNftContract, tokenID) => {\n  const address = await originalNftContract.getApproved(tokenID)\n  return address\n}\n\nexport const buyToken = async (nftExchangeContract, tokenID) => {\n  const tx = await nftExchangeContract.buyToken(tokenID, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const readyToSellToken = async (nftExchangeContract, tokenID, price) => {\n  const tx = await nftExchangeContract.readyToSellToken(tokenID, price, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const cancelSellToken = async (nftExchangeContract, tokenID) => {\n  const tx = await nftExchangeContract.cancelSellToken(tokenID, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const setCurrentPrice = async (nftExchangeContract, tokenID, price) => {\n  const tx = await nftExchangeContract.setCurrentPrice(tokenID, price, options)\n  const receipt = await tx.wait()\n  return receipt.status\n}\n\nexport const getAskLength = async (nftExchangeContract) => {\n  const askLen = await nftExchangeContract.getAskLength()\n  return askLen\n}\n\nexport const getAsks = async (nftExchangeContract) => {\n  const askLen = await nftExchangeContract.getAsks()\n  return askLen\n}\n\nexport const getAsksDesc = async (nftExchangeContract) => {\n  const askLen = await nftExchangeContract.getAsksDesc()\n  return askLen\n}\n\nexport const getAsksByPage = async (nftExchangeContract, page, size) => {\n  const askLen = await nftExchangeContract.getAsksByPage(page, size)\n  return askLen\n}\n\nexport const getAsksByPageDesc = async (nftExchangeContract, page, size) => {\n  const askLen = await nftExchangeContract.getAsksByPageDesc(page, size)\n  return askLen\n}\n\nexport const getAsksByUser = async (nftExchangeContract, user) => {\n  const askLen = await nftExchangeContract.getAsksByUser(user)\n  return askLen\n}\n\nexport const getAsksByUserDesc = async (nftExchangeContract, user) => {\n  const askLen = await nftExchangeContract.getAsksByUserDesc(user)\n  return askLen\n}\n","import styled from 'styled-components'\nimport { Grid } from 'parsec-swap-uikit'\n\nconst GridLayout = styled(Grid)`\n  grid-template-columns: repeat(1, 1fr);\n  grid-gap: 16px;\n  @media screen and (min-width: 660px) {\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 24px;\n  }\n  @media screen and (min-width: 1260px) {\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: 24px;\n  }\n`\n\nexport default GridLayout\n","export const Latinise = {\n  latin_map: {\n    τ: 't',\n    Τ: 'T',\n  },\n}\n\nexport const latinise = (input: string) => {\n  return input.replace(/[^A-Za-z0-9[\\] ]/g, (x) => Latinise.latin_map[x] || x)\n}\n","import { useCallback, useState } from 'react'\nimport usePreviousValue from './usePreviousValue'\n\n/**\n * A helper hook to keep track of the time between events\n * Can also be used to force an effect to re-run\n */\nconst useLastUpdated = () => {\n  const [lastUpdated, setStateLastUpdated] = useState(Date.now())\n  const previousLastUpdated = usePreviousValue(lastUpdated)\n\n  const setLastUpdated = useCallback(() => {\n    setStateLastUpdated(Date.now())\n  }, [setStateLastUpdated])\n\n  return { lastUpdated, previousLastUpdated, setLastUpdated }\n}\n\nexport default useLastUpdated\n"],"sourceRoot":""}