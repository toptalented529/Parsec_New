{"version":3,"sources":["state/burn/hooks.ts","views/RemoveLiquidity/index.tsx","hooks/useDebouncedChangeHandler.ts","components/Links/index.tsx"],"names":["useBurnState","useSelector","state","burn","BorderCard","styled","div","theme","colors","cardBorder","RemoveLiquidity","history","match","params","currencyIdA","currencyIdB","currencyA","useCurrency","undefined","currencyB","useActiveWeb3React","account","chainId","library","useMemo","wrappedCurrency","tokenA","tokenB","t","useTranslation","independentField","typedValue","usePair","pair","relevantTokenBalances","useTokenBalances","liquidityToken","userLiquidity","address","tokens","Field","CURRENCY_A","CURRENCY_B","LIQUIDITY","totalSupply","useTotalSupply","liquidityValueA","JSBI","greaterThanOrEqual","raw","TokenAmount","getLiquidityValue","liquidityValueB","liquidityValues","percentToRemove","Percent","LIQUIDITY_PERCENT","independentAmount","tryParseAmount","greaterThan","liquidityValue","error","parsedAmounts","token","multiply","quotient","useDerivedBurnInfo","dispatch","useDispatch","onUserInput","useCallback","field","typeInput","useBurnActionHandlers","_onUserInput","isValid","useState","showDetailed","setShowDetailed","attemptingTxn","setAttemptingTxn","txHash","setTxHash","deadline","useTransactionDeadline","useUserSlippageTolerance","allowedSlippage","formattedAmounts","equalTo","lessThan","toFixed","toSignificant","atMaxAmount","usePairContract","signatureData","setSignatureData","useApproveCallback","ROUTER_ADDRESS","approval","approveACallback","value","onLiquidityInput","onCurrencyAInput","onCurrencyBInput","addTransaction","useTransactionAdder","onRemove","Error","currencyAmountA","currencyAmountB","router","getRouterContract","calculateSlippageAmount","amountsMin","liquidityAmount","currencyBIsETH","ETHER","oneCurrencyIsETH","ApprovalState","APPROVED","methodNames","args","toString","toHexString","v","r","s","Promise","all","map","methodName","estimateGas","then","calculateGasMargin","catch","err","console","safeGasEstimates","indexOfSuccessfulEstimation","findIndex","safeGasEstimate","BigNumber","isBigNumber","gasLimit","response","summary","symbol","hash","modalHeader","gap","Row","align","fontSize","currency","size","ml","width","small","textAlign","pt","slippage","modalBottom","assetA","assetB","currency0","currency1","margin","priceOf","disabled","onClick","pendingText","amountA","symbolA","amountB","symbolB","liquidityPercentChangeCallback","oneCurrencyIsWETH","Boolean","currencyEquals","WETH","handleSelectCurrencyA","currencyId","push","handleSelectCurrencyB","handleDismissConfirmation","onChange","debouncedMs","inner","setInner","timer","useRef","onChangeInner","newValue","current","clearTimeout","setTimeout","useEffect","useDebouncedChangeHandler","Number","parseInt","innerLiquidityPercentage","setInnerLiquidityPercentage","useModal","TransactionConfirmationModal","title","customOnDismiss","content","topContent","bottomContent","onPresentRemoveLiquidity","Page","App","backTo","subtitle","noConfig","variant","scale","bold","mb","style","lineHeight","name","min","max","onValueChanged","Math","ceil","flexWrap","justifyContent","Column","color","my","textTransform","id","to","CurrencyInputPanel","onMax","showMaxButton","disableCurrencySelect","onCurrencySelect","hideBalance","label","marginTop","position","mt","NOT_APPROVED","mr","PENDING","Dots","ConnectWalletButton","minWidth","maxWidth","showUnwrapped","StyledInternalLink","Link","primary"],"mappings":"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","file":"static/js/25.4dfd48f6.chunk.js","sourcesContent":["import { Currency, CurrencyAmount, JSBI, Pair, Percent, TokenAmount } from 'parsec-swap-sdk'\nimport { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\nimport { wrappedCurrency } from 'utils/wrappedCurrency'\nimport { usePair } from 'hooks/usePairs'\nimport useTotalSupply from 'hooks/useTotalSupply'\n\nimport { AppDispatch, AppState } from '../index'\nimport { tryParseAmount } from '../swap/hooks'\nimport { useTokenBalances } from '../wallet/hooks'\nimport { Field, typeInput } from './actions'\n\nexport function useBurnState(): AppState['burn'] {\n  return useSelector<AppState, AppState['burn']>((state) => state.burn)\n}\n\nexport function useDerivedBurnInfo(\n  currencyA: Currency | undefined,\n  currencyB: Currency | undefined,\n): {\n  pair?: Pair | null\n  parsedAmounts: {\n    [Field.LIQUIDITY_PERCENT]: Percent\n    [Field.LIQUIDITY]?: TokenAmount\n    [Field.CURRENCY_A]?: CurrencyAmount\n    [Field.CURRENCY_B]?: CurrencyAmount\n  }\n  error?: string\n} {\n  const { account, chainId } = useActiveWeb3React()\n\n  const { independentField, typedValue } = useBurnState()\n\n  // pair + totalsupply\n  const [, pair] = usePair(currencyA, currencyB)\n\n  // balances\n  const relevantTokenBalances = useTokenBalances(account ?? undefined, [pair?.liquidityToken])\n  const userLiquidity: undefined | TokenAmount = relevantTokenBalances?.[pair?.liquidityToken?.address ?? '']\n\n  const [tokenA, tokenB] = [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)]\n  const tokens = {\n    [Field.CURRENCY_A]: tokenA,\n    [Field.CURRENCY_B]: tokenB,\n    [Field.LIQUIDITY]: pair?.liquidityToken,\n  }\n\n  // liquidity values\n  const totalSupply = useTotalSupply(pair?.liquidityToken)\n  const liquidityValueA =\n    pair &&\n    totalSupply &&\n    userLiquidity &&\n    tokenA &&\n    // this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\n    JSBI.greaterThanOrEqual(totalSupply.raw, userLiquidity.raw)\n      ? new TokenAmount(tokenA, pair.getLiquidityValue(tokenA, totalSupply, userLiquidity, false).raw)\n      : undefined\n  const liquidityValueB =\n    pair &&\n    totalSupply &&\n    userLiquidity &&\n    tokenB &&\n    // this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\n    JSBI.greaterThanOrEqual(totalSupply.raw, userLiquidity.raw)\n      ? new TokenAmount(tokenB, pair.getLiquidityValue(tokenB, totalSupply, userLiquidity, false).raw)\n      : undefined\n  const liquidityValues: { [Field.CURRENCY_A]?: TokenAmount; [Field.CURRENCY_B]?: TokenAmount } = {\n    [Field.CURRENCY_A]: liquidityValueA,\n    [Field.CURRENCY_B]: liquidityValueB,\n  }\n\n  let percentToRemove: Percent = new Percent('0', '100')\n  // user specified a %\n  if (independentField === Field.LIQUIDITY_PERCENT) {\n    percentToRemove = new Percent(typedValue, '100')\n  }\n  // user specified a specific amount of liquidity tokens\n  else if (independentField === Field.LIQUIDITY) {\n    if (pair?.liquidityToken) {\n      const independentAmount = tryParseAmount(typedValue, pair.liquidityToken)\n      if (independentAmount && userLiquidity && !independentAmount.greaterThan(userLiquidity)) {\n        percentToRemove = new Percent(independentAmount.raw, userLiquidity.raw)\n      }\n    }\n  }\n  // user specified a specific amount of token a or b\n  else if (tokens[independentField]) {\n    const independentAmount = tryParseAmount(typedValue, tokens[independentField])\n    const liquidityValue = liquidityValues[independentField]\n    if (independentAmount && liquidityValue && !independentAmount.greaterThan(liquidityValue)) {\n      percentToRemove = new Percent(independentAmount.raw, liquidityValue.raw)\n    }\n  }\n\n  const parsedAmounts: {\n    [Field.LIQUIDITY_PERCENT]: Percent\n    [Field.LIQUIDITY]?: TokenAmount\n    [Field.CURRENCY_A]?: TokenAmount\n    [Field.CURRENCY_B]?: TokenAmount\n  } = {\n    [Field.LIQUIDITY_PERCENT]: percentToRemove,\n    [Field.LIQUIDITY]:\n      userLiquidity && percentToRemove && percentToRemove.greaterThan('0')\n        ? new TokenAmount(userLiquidity.token, percentToRemove.multiply(userLiquidity.raw).quotient)\n        : undefined,\n    [Field.CURRENCY_A]:\n      tokenA && percentToRemove && percentToRemove.greaterThan('0') && liquidityValueA\n        ? new TokenAmount(tokenA, percentToRemove.multiply(liquidityValueA.raw).quotient)\n        : undefined,\n    [Field.CURRENCY_B]:\n      tokenB && percentToRemove && percentToRemove.greaterThan('0') && liquidityValueB\n        ? new TokenAmount(tokenB, percentToRemove.multiply(liquidityValueB.raw).quotient)\n        : undefined,\n  }\n\n  let error: string | undefined\n  if (!account) {\n    error = 'Connect Wallet'\n  }\n\n  if (!parsedAmounts[Field.LIQUIDITY] || !parsedAmounts[Field.CURRENCY_A] || !parsedAmounts[Field.CURRENCY_B]) {\n    error = error ?? 'Enter an amount'\n  }\n\n  return { pair, parsedAmounts, error }\n}\n\nexport function useBurnActionHandlers(): {\n  onUserInput: (field: Field, typedValue: string) => void\n} {\n  const dispatch = useDispatch<AppDispatch>()\n\n  const onUserInput = useCallback(\n    (field: Field, typedValue: string) => {\n      dispatch(typeInput({ field, typedValue }))\n    },\n    [dispatch],\n  )\n\n  return {\n    onUserInput,\n  }\n}\n","import React, { useCallback, useMemo, useState } from 'react'\nimport styled from 'styled-components'\nimport { splitSignature } from '@ethersproject/bytes'\nimport { Contract } from '@ethersproject/contracts'\nimport { TransactionResponse } from '@ethersproject/providers'\nimport { Currency, currencyEquals, ETHER, Percent, WETH } from 'parsec-swap-sdk'\nimport { Button, Text, AddIcon, ArrowDownIcon, CardBody, Slider, Box, Flex, useModal } from 'parsec-swap-uikit'\nimport { RouteComponentProps } from 'react-router'\nimport { BigNumber } from '@ethersproject/bignumber'\nimport { useTranslation } from 'contexts/Localization'\nimport { AutoColumn, ColumnCenter } from '../../components/Layout/Column'\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal'\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\nimport { MinimalPositionCard } from '../../components/PositionCard'\nimport { AppHeader, AppBody } from '../../components/App'\nimport { RowBetween, RowFixed } from '../../components/Layout/Row'\nimport ConnectWalletButton from '../../components/ConnectWalletButton'\nimport { LightGreyCard } from '../../components/Card'\n\nimport { CurrencyLogo, DoubleCurrencyLogo } from '../../components/Logo'\nimport { ROUTER_ADDRESS } from '../../config/constants'\nimport useActiveWeb3React from '../../hooks/useActiveWeb3React'\nimport { useCurrency } from '../../hooks/Tokens'\nimport { usePairContract } from '../../hooks/useContract'\nimport useTransactionDeadline from '../../hooks/useTransactionDeadline'\n\nimport { useTransactionAdder } from '../../state/transactions/hooks'\nimport StyledInternalLink from '../../components/Links'\nimport { calculateGasMargin, calculateSlippageAmount, getRouterContract } from '../../utils'\nimport { currencyId } from '../../utils/currencyId'\nimport useDebouncedChangeHandler from '../../hooks/useDebouncedChangeHandler'\nimport { wrappedCurrency } from '../../utils/wrappedCurrency'\nimport { useApproveCallback, ApprovalState } from '../../hooks/useApproveCallback'\nimport Dots from '../../components/Loader/Dots'\nimport { useBurnActionHandlers, useDerivedBurnInfo, useBurnState } from '../../state/burn/hooks'\n\nimport { Field } from '../../state/burn/actions'\nimport { useUserSlippageTolerance } from '../../state/user/hooks'\nimport Page from '../Page'\n\nconst BorderCard = styled.div`\n  border: solid 1px ${({ theme }) => theme.colors.cardBorder};\n  border-radius: 16px;\n  padding: 16px;\n`\n\nexport default function RemoveLiquidity({\n  history,\n  match: {\n    params: { currencyIdA, currencyIdB },\n  },\n}: RouteComponentProps<{ currencyIdA: string; currencyIdB: string }>) {\n  const [currencyA, currencyB] = [useCurrency(currencyIdA) ?? undefined, useCurrency(currencyIdB) ?? undefined]\n  const { account, chainId, library } = useActiveWeb3React()\n  const [tokenA, tokenB] = useMemo(\n    () => [wrappedCurrency(currencyA, chainId), wrappedCurrency(currencyB, chainId)],\n    [currencyA, currencyB, chainId],\n  )\n\n  const { t } = useTranslation()\n\n  // burn state\n  const { independentField, typedValue } = useBurnState()\n  const { pair, parsedAmounts, error } = useDerivedBurnInfo(currencyA ?? undefined, currencyB ?? undefined)\n  const { onUserInput: _onUserInput } = useBurnActionHandlers()\n  const isValid = !error\n\n  // modal and loading\n  const [showDetailed, setShowDetailed] = useState<boolean>(false)\n  const [attemptingTxn, setAttemptingTxn] = useState(false) // clicked confirm\n\n  // txn values\n  const [txHash, setTxHash] = useState<string>('')\n  const deadline = useTransactionDeadline()\n  const [allowedSlippage] = useUserSlippageTolerance()\n\n  const formattedAmounts = {\n    [Field.LIQUIDITY_PERCENT]: parsedAmounts[Field.LIQUIDITY_PERCENT].equalTo('0')\n      ? '0'\n      : parsedAmounts[Field.LIQUIDITY_PERCENT].lessThan(new Percent('1', '100'))\n      ? '<1'\n      : parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0),\n    [Field.LIQUIDITY]:\n      independentField === Field.LIQUIDITY ? typedValue : parsedAmounts[Field.LIQUIDITY]?.toSignificant(6) ?? '',\n    [Field.CURRENCY_A]:\n      independentField === Field.CURRENCY_A ? typedValue : parsedAmounts[Field.CURRENCY_A]?.toSignificant(6) ?? '',\n    [Field.CURRENCY_B]:\n      independentField === Field.CURRENCY_B ? typedValue : parsedAmounts[Field.CURRENCY_B]?.toSignificant(6) ?? '',\n  }\n\n  const atMaxAmount = parsedAmounts[Field.LIQUIDITY_PERCENT]?.equalTo(new Percent('1'))\n\n  // pair contract\n  const pairContract: Contract | null = usePairContract(pair?.liquidityToken?.address)\n\n  // allowance handling\n  const [signatureData, setSignatureData] = useState<{ v: number; r: string; s: string; deadline: number } | null>(null)\n  const [approval, approveCallback] = useApproveCallback(parsedAmounts[Field.LIQUIDITY], ROUTER_ADDRESS)\n  const [approvalA, approveACallback] = useApproveCallback(parsedAmounts[Field.LIQUIDITY], ROUTER_ADDRESS)\n\n  const onAttemptToApprove = async () => {\n    if (!pairContract || !pair || !library || !deadline) throw new Error('missing dependencies')\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY]\n    if (!liquidityAmount) throw new Error('missing liquidity amount')\n\n\n\n    // try to gather a signature for permission\n    const nonce = await pairContract.nonces(account)\n\n    const EIP712Domain = [\n      { name: 'name', type: 'string' },\n      { name: 'version', type: 'string' },\n      { name: 'chainId', type: 'uint256' },\n      { name: 'verifyingContract', type: 'address' },\n    ]\n    const domain = {\n      name: 'Pancake LPs',\n      version: '1',\n      chainId,\n      verifyingContract: pair.liquidityToken.address,\n    }\n\n    console.log(\"777777777777\",domain)\n    const Permit = [\n      { name: 'owner', type: 'address' },\n      { name: 'spender', type: 'address' },\n      { name: 'value', type: 'uint256' },\n      { name: 'nonce', type: 'uint256' },\n      { name: 'deadline', type: 'uint256' },\n    ]\n    const message = {\n      owner: account,\n      spender: ROUTER_ADDRESS,\n      value: liquidityAmount.raw.toString(),\n      nonce: nonce.toHexString(),\n      deadline: deadline.toNumber(),\n    }\n\n    const data = JSON.stringify({\n      types: {\n        EIP712Domain,\n        Permit,\n      },\n      domain,\n      primaryType: 'Permit',\n      message,\n    })\n\n    library\n      .send('eth_signTypedData_v4', [account, data])\n      .then(splitSignature)\n      .then((signature) => {\n        setSignatureData({\n          v: signature.v,\n          r: signature.r,\n          s: signature.s,\n          deadline: deadline.toNumber(),\n        })\n      })\n      .catch((err) => {\n        // for all errors other than 4001 (EIP-1193 user rejected request), fall back to manual approve\n        if (err?.code !== 4001) {\n          approveCallback()\n        }\n      })\n  }\n\n  // wrapped onUserInput to clear signatures\n  const onUserInput = useCallback(\n    (field: Field, value: string) => {\n      setSignatureData(null)\n      return _onUserInput(field, value)\n    },\n    [_onUserInput],\n  )\n\n  const onLiquidityInput = useCallback((value: string): void => onUserInput(Field.LIQUIDITY, value), [onUserInput])\n  const onCurrencyAInput = useCallback((value: string): void => onUserInput(Field.CURRENCY_A, value), [onUserInput])\n  const onCurrencyBInput = useCallback((value: string): void => onUserInput(Field.CURRENCY_B, value), [onUserInput])\n\n  // tx sending\n  const addTransaction = useTransactionAdder()\n  const onRemove = async () => {\n    if (!chainId || !library || !account || !deadline) throw new Error('missing dependencies')\n    const { [Field.CURRENCY_A]: currencyAmountA, [Field.CURRENCY_B]: currencyAmountB } = parsedAmounts\n    if (!currencyAmountA || !currencyAmountB) {\n      throw new Error('missing currency amounts')\n    }\n    const router = getRouterContract(chainId, library, account)\n\n    const amountsMin = {\n      [Field.CURRENCY_A]: calculateSlippageAmount(currencyAmountA, allowedSlippage)[0],\n      [Field.CURRENCY_B]: calculateSlippageAmount(currencyAmountB, allowedSlippage)[0],\n    }\n\n    if (!currencyA || !currencyB) throw new Error('missing tokens')\n    const liquidityAmount = parsedAmounts[Field.LIQUIDITY]\n    if (!liquidityAmount) throw new Error('missing liquidity amount')\n\n    const currencyBIsETH = currencyB === ETHER\n    const oneCurrencyIsETH = currencyA === ETHER || currencyBIsETH\n\n    if (!tokenA || !tokenB) throw new Error('could not wrap')\n\n    let methodNames: string[]\n    let args: Array<string | string[] | number | boolean>\n    // we have approval, use normal remove liquidity\n    if (approval === ApprovalState.APPROVED) {\n      // removeLiquidityETH\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityETH', 'removeLiquidityETHSupportingFeeOnTransferTokens']\n        args = [\n          currencyBIsETH ? tokenA.address : tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(),\n          account,\n          deadline.toHexString(),\n        ]\n      }\n      // removeLiquidity\n      else {\n        methodNames = ['removeLiquidity']\n        args = [\n          tokenA.address,\n          tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[Field.CURRENCY_A].toString(),\n          amountsMin[Field.CURRENCY_B].toString(),\n          account,\n          deadline.toHexString(),\n        ]\n      }\n    }\n    // we have a signataure, use permit versions of remove liquidity\n    else if (signatureData !== null) {\n      // removeLiquidityETHWithPermit\n      if (oneCurrencyIsETH) {\n        methodNames = ['removeLiquidityETHWithPermit', 'removeLiquidityETHWithPermitSupportingFeeOnTransferTokens']\n        args = [\n          currencyBIsETH ? tokenA.address : tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(),\n          amountsMin[currencyBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(),\n          account,\n          signatureData.deadline,\n          false,\n          signatureData.v,\n          signatureData.r,\n          signatureData.s,\n        ]\n      }\n      // removeLiquidityETHWithPermit\n      else {\n        methodNames = ['removeLiquidityWithPermit']\n        args = [\n          tokenA.address,\n          tokenB.address,\n          liquidityAmount.raw.toString(),\n          amountsMin[Field.CURRENCY_A].toString(),\n          amountsMin[Field.CURRENCY_B].toString(),\n          account,\n          signatureData.deadline,\n          false,\n          signatureData.v,\n          signatureData.r,\n          signatureData.s,\n        ]\n      }\n    } else {\n      throw new Error('Attempting to confirm without approval or a signature. Please contact support.')\n    }\n\n    const safeGasEstimates: (BigNumber | undefined)[] = await Promise.all(\n      methodNames.map((methodName) =>\n        router.estimateGas[methodName](...args)\n          .then(calculateGasMargin)\n          .catch((err) => {\n            console.error(`estimateGas failed`, methodName, args, err)\n            return undefined\n          }),\n      ),\n    )\n\n    const indexOfSuccessfulEstimation = safeGasEstimates.findIndex((safeGasEstimate) =>\n      BigNumber.isBigNumber(safeGasEstimate),\n    )\n\n    // all estimations failed...\n    if (indexOfSuccessfulEstimation === -1) {\n      console.error('This transaction would fail. Please contact support.')\n    } else {\n      const methodName = methodNames[indexOfSuccessfulEstimation]\n      const safeGasEstimate = safeGasEstimates[indexOfSuccessfulEstimation]\n\n      setAttemptingTxn(true)\n      await router[methodName](...args, {\n        gasLimit: safeGasEstimate,\n      })\n        .then((response: TransactionResponse) => {\n          setAttemptingTxn(false)\n\n          addTransaction(response, {\n            summary: `Remove ${parsedAmounts[Field.CURRENCY_A]?.toSignificant(3)} ${\n              currencyA?.symbol\n            } and ${parsedAmounts[Field.CURRENCY_B]?.toSignificant(3)} ${currencyB?.symbol}`,\n          })\n\n          setTxHash(response.hash)\n        })\n        .catch((err: Error) => {\n          setAttemptingTxn(false)\n          // we only care if the error is something _other_ than the user rejected the tx\n          console.error(err)\n        })\n    }\n  }\n\n  const modalHeader = () => {\n    return (\n      <AutoColumn gap=\"md\">\n        <RowBetween align=\"flex-end\">\n          <Text fontSize=\"24px\">{parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)}</Text>\n          <RowFixed gap=\"4px\">\n            <CurrencyLogo currency={currencyA} size=\"24px\" />\n            <Text fontSize=\"24px\" ml=\"10px\">\n              {currencyA?.symbol}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n        <RowFixed>\n          <AddIcon width=\"16px\" />\n        </RowFixed>\n        <RowBetween align=\"flex-end\">\n          <Text fontSize=\"24px\">{parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)}</Text>\n          <RowFixed gap=\"4px\">\n            <CurrencyLogo currency={currencyB} size=\"24px\" />\n            <Text fontSize=\"24px\" ml=\"10px\">\n              {currencyB?.symbol}\n            </Text>\n          </RowFixed>\n        </RowBetween>\n\n        <Text small textAlign=\"left\" pt=\"12px\">\n          {t('Output is estimated. If the price changes by more than %slippage%% your transaction will revert.', {\n            slippage: allowedSlippage / 100,\n          })}\n        </Text>\n      </AutoColumn>\n    )\n  }\n\n  const modalBottom = () => {\n    return (\n      <>\n        <RowBetween>\n          {t('%assetA%/%assetB% Burned', { assetA: currencyA?.symbol ?? '', assetB: currencyB?.symbol ?? '' })}\n          <RowFixed>\n            <DoubleCurrencyLogo currency0={currencyA} currency1={currencyB} margin />\n            <Text>{parsedAmounts[Field.LIQUIDITY]?.toSignificant(6)}</Text>\n          </RowFixed>\n        </RowBetween>\n        {pair && (\n          <>\n            <RowBetween>\n              <Text>{t('Price')}</Text>\n              <Text>\n                1 {currencyA?.symbol} = {tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-'} {currencyB?.symbol}\n              </Text>\n            </RowBetween>\n            <RowBetween>\n              <div />\n              <Text>\n                1 {currencyB?.symbol} = {tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-'} {currencyA?.symbol}\n              </Text>\n            </RowBetween>\n          </>\n        )}\n        <Button disabled={!(approval === ApprovalState.APPROVED || signatureData !== null)} onClick={onRemove}>\n          {t('Confirm')}\n        </Button>\n      </>\n    )\n  }\n\n  const pendingText = t('Removing %amountA% %symbolA% and %amountB% %symbolB%', {\n    amountA: parsedAmounts[Field.CURRENCY_A]?.toSignificant(6) ?? '',\n    symbolA: currencyA?.symbol ?? '',\n    amountB: parsedAmounts[Field.CURRENCY_B]?.toSignificant(6) ?? '',\n    symbolB: currencyB?.symbol ?? '',\n  })\n\n  const liquidityPercentChangeCallback = useCallback(\n    (value: number) => {\n      onUserInput(Field.LIQUIDITY_PERCENT, value.toString())\n    },\n    [onUserInput],\n  )\n\n  const oneCurrencyIsETH = currencyA === ETHER || currencyB === ETHER\n  const oneCurrencyIsWETH = Boolean(\n    chainId &&\n      ((currencyA && currencyEquals(WETH[chainId], currencyA)) ||\n        (currencyB && currencyEquals(WETH[chainId], currencyB))),\n  )\n\n  const handleSelectCurrencyA = useCallback(\n    (currency: Currency) => {\n      if (currencyIdB && currencyId(currency) === currencyIdB) {\n        history.push(`/remove/${currencyId(currency)}/${currencyIdA}`)\n      } else {\n        history.push(`/remove/${currencyId(currency)}/${currencyIdB}`)\n      }\n    },\n    [currencyIdA, currencyIdB, history],\n  )\n  const handleSelectCurrencyB = useCallback(\n    (currency: Currency) => {\n      if (currencyIdA && currencyId(currency) === currencyIdA) {\n        history.push(`/remove/${currencyIdB}/${currencyId(currency)}`)\n      } else {\n        history.push(`/remove/${currencyIdA}/${currencyId(currency)}`)\n      }\n    },\n    [currencyIdA, currencyIdB, history],\n  )\n\n  const handleDismissConfirmation = useCallback(() => {\n    setSignatureData(null) // important that we clear signature data to avoid bad sigs\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onUserInput(Field.LIQUIDITY_PERCENT, '0')\n    }\n    setTxHash('')\n  }, [onUserInput, txHash])\n\n  const [innerLiquidityPercentage, setInnerLiquidityPercentage] = useDebouncedChangeHandler(\n    Number.parseInt(parsedAmounts[Field.LIQUIDITY_PERCENT].toFixed(0)),\n    liquidityPercentChangeCallback,\n  )\n\n  const [onPresentRemoveLiquidity] = useModal(\n    <TransactionConfirmationModal\n      title={t('You will receive')}\n      customOnDismiss={handleDismissConfirmation}\n      attemptingTxn={attemptingTxn}\n      hash={txHash || ''}\n      content={() => <ConfirmationModalContent topContent={modalHeader} bottomContent={modalBottom} />}\n      pendingText={pendingText}\n    />,\n    true,\n    true,\n    'removeLiquidityModal',\n  )\n\n  return (\n    <Page>\n      <AppBody>\n        <AppHeader\n          backTo=\"/pool\"\n          title={t('Remove %assetA%-%assetB% liquidity', {\n            assetA: currencyA?.symbol ?? '',\n            assetB: currencyB?.symbol ?? '',\n          })}\n          subtitle={`To receive ${currencyA?.symbol} and ${currencyB?.symbol}`}\n          noConfig\n        />\n\n        <CardBody>\n          <AutoColumn gap=\"20px\">\n            <RowBetween>\n              <Text>{t('Amount')}</Text>\n              <Button variant=\"text\" scale=\"sm\" onClick={() => setShowDetailed(!showDetailed)}>\n                {showDetailed ? t('Simple') : t('Detailed')}\n              </Button>\n            </RowBetween>\n            {!showDetailed && (\n              <BorderCard>\n                <Text fontSize=\"40px\" bold mb=\"16px\" style={{ lineHeight: 1 }}>\n                  {formattedAmounts[Field.LIQUIDITY_PERCENT]}%\n                </Text>\n                <Slider\n                  name=\"lp-amount\"\n                  min={0}\n                  max={100}\n                  value={innerLiquidityPercentage}\n                  onValueChanged={(value) => setInnerLiquidityPercentage(Math.ceil(value))}\n                  mb=\"16px\"\n                />\n                <Flex flexWrap=\"wrap\" justifyContent=\"space-evenly\">\n                  <Button variant=\"tertiary\" scale=\"sm\" onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '25')}>\n                    25%\n                  </Button>\n                  <Button variant=\"tertiary\" scale=\"sm\" onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '50')}>\n                    50%\n                  </Button>\n                  <Button variant=\"tertiary\" scale=\"sm\" onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '75')}>\n                    75%\n                  </Button>\n                  <Button variant=\"tertiary\" scale=\"sm\" onClick={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}>\n                    Max\n                  </Button>\n                </Flex>\n              </BorderCard>\n            )}\n          </AutoColumn>\n          {!showDetailed && (\n            <>\n              <ColumnCenter>\n                <ArrowDownIcon color=\"textSubtle\" width=\"24px\" my=\"16px\" />\n              </ColumnCenter>\n              <AutoColumn gap=\"10px\">\n                <Text bold color=\"secondary\" fontSize=\"12px\" textTransform=\"uppercase\">\n                  {t('You will receive')}\n                </Text>\n                <LightGreyCard>\n                  <Flex justifyContent=\"space-between\" mb=\"8px\">\n                    <Flex>\n                      <CurrencyLogo currency={currencyA} />\n                      <Text small color=\"textSubtle\" id=\"remove-liquidity-tokena-symbol\" ml=\"4px\">\n                        {currencyA?.symbol}\n                      </Text>\n                    </Flex>\n                    <Text small>{formattedAmounts[Field.CURRENCY_A] || '-'}</Text>\n                  </Flex>\n                  <Flex justifyContent=\"space-between\">\n                    <Flex>\n                      <CurrencyLogo currency={currencyB} />\n                      <Text small color=\"textSubtle\" id=\"remove-liquidity-tokenb-symbol\" ml=\"4px\">\n                        {currencyB?.symbol}\n                      </Text>\n                    </Flex>\n                    <Text small>{formattedAmounts[Field.CURRENCY_B] || '-'}</Text>\n                  </Flex>\n                  {chainId && (oneCurrencyIsWETH || oneCurrencyIsETH) ? (\n                    <RowBetween style={{ justifyContent: 'flex-end', fontSize: '14px' }}>\n                      {oneCurrencyIsETH ? (\n                        <StyledInternalLink\n                          to={`/remove/${currencyA === ETHER ? WETH[chainId].address : currencyIdA}/${\n                            currencyB === ETHER ? WETH[chainId].address : currencyIdB\n                          }`}\n                        >\n                          {t('Receive WUNE')}\n                        </StyledInternalLink>\n                      ) : oneCurrencyIsWETH ? (\n                        <StyledInternalLink\n                          to={`/remove/${currencyA && currencyEquals(currencyA, WETH[chainId]) ? 'UNE' : currencyIdA}/${\n                            currencyB && currencyEquals(currencyB, WETH[chainId]) ? 'UNE' : currencyIdB\n                          }`}\n                        >\n                          {t('Receive UNE')}\n                        </StyledInternalLink>\n                      ) : null}\n                    </RowBetween>\n                  ) : null}\n                </LightGreyCard>\n              </AutoColumn>\n            </>\n          )}\n\n          {showDetailed && (\n            <Box my=\"16px\">\n              <CurrencyInputPanel\n                value={formattedAmounts[Field.LIQUIDITY]}\n                onUserInput={onLiquidityInput}\n                onMax={() => {\n                  onUserInput(Field.LIQUIDITY_PERCENT, '100')\n                }}\n                showMaxButton={!atMaxAmount}\n                disableCurrencySelect\n                currency={pair?.liquidityToken}\n                pair={pair}\n                id=\"liquidity-amount\"\n                onCurrencySelect={() => null}\n              />\n              <ColumnCenter>\n                <ArrowDownIcon width=\"24px\" my=\"16px\" />\n              </ColumnCenter>\n              <CurrencyInputPanel\n                hideBalance\n                value={formattedAmounts[Field.CURRENCY_A]}\n                onUserInput={onCurrencyAInput}\n                onMax={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}\n                showMaxButton={!atMaxAmount}\n                currency={currencyA}\n                label={t('Output')}\n                onCurrencySelect={handleSelectCurrencyA}\n                id=\"remove-liquidity-tokena\"\n              />\n              <ColumnCenter>\n                <AddIcon width=\"24px\" my=\"16px\" />\n              </ColumnCenter>\n              <CurrencyInputPanel\n                hideBalance\n                value={formattedAmounts[Field.CURRENCY_B]}\n                onUserInput={onCurrencyBInput}\n                onMax={() => onUserInput(Field.LIQUIDITY_PERCENT, '100')}\n                showMaxButton={!atMaxAmount}\n                currency={currencyB}\n                label={t('Output')}\n                onCurrencySelect={handleSelectCurrencyB}\n                id=\"remove-liquidity-tokenb\"\n              />\n            </Box>\n          )}\n          {pair && (\n            <AutoColumn gap=\"10px\" style={{ marginTop: '16px' }}>\n              <Text bold color=\"secondary\" fontSize=\"12px\" textTransform=\"uppercase\">\n                {t('Prices')}\n              </Text>\n              <LightGreyCard>\n                <Flex justifyContent=\"space-between\">\n                  <Text small color=\"textSubtle\">\n                    1 {currencyA?.symbol} =\n                  </Text>\n                  <Text small>\n                    {tokenA ? pair.priceOf(tokenA).toSignificant(6) : '-'} {currencyB?.symbol}\n                  </Text>\n                </Flex>\n                <Flex justifyContent=\"space-between\">\n                  <Text small color=\"textSubtle\">\n                    1 {currencyB?.symbol} =\n                  </Text>\n                  <Text small>\n                    {tokenB ? pair.priceOf(tokenB).toSignificant(6) : '-'} {currencyA?.symbol}\n                  </Text>\n                </Flex>\n              </LightGreyCard>\n            </AutoColumn>\n          )}\n          <Box position=\"relative\" mt=\"16px\">\n            {!account ? (\n              <ConnectWalletButton />\n            ) : (\n              <RowBetween>\n                <Button\n                  variant={approval === ApprovalState.APPROVED || signatureData !== null ? 'success' : 'primary'}\n                  onClick={approveACallback}\n                  disabled={approval !== ApprovalState.NOT_APPROVED || signatureData !== null}\n                  width=\"100%\"\n                  mr=\"0.5rem\"\n                >\n                  {approval === ApprovalState.PENDING ? (\n                    <Dots>{t('Enabling')}</Dots>\n                  ) : approval === ApprovalState.APPROVED || signatureData !== null ? (\n                    t('Enabled')\n                  ) : (\n                    t('Enable')\n                  )}\n                </Button>\n                &nbsp;\n                <Button\n                  variant={\n                    !isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B]\n                      ? 'danger'\n                      : 'primary'\n                  }\n                  onClick={() => {\n                    onPresentRemoveLiquidity()\n                  }}\n                  width=\"100%\"\n                  disabled={!isValid || (signatureData === null && approval !== ApprovalState.APPROVED)}\n                >\n                  {t('Remove')}\n                </Button>\n              </RowBetween>\n            )}\n          </Box>\n        </CardBody>\n      </AppBody>\n\n      {pair ? (\n        <AutoColumn style={{ minWidth: '20rem', width: '100%', maxWidth: '400px', margin: '1rem auto' }}>\n          <MinimalPositionCard showUnwrapped={oneCurrencyIsWETH} pair={pair} />\n        </AutoColumn>\n      ) : null}\n    </Page>\n  )\n}\n","import { useCallback, useEffect, useRef, useState } from 'react'\n\n/**\n * Easy way to debounce the handling of a rapidly changing value, e.g. a changing slider input\n * @param value value that is rapidly changing\n * @param onChange change handler that should receive the debounced updates to the value\n * @param debouncedMs how long we should wait for changes to be applied\n */\nexport default function useDebouncedChangeHandler<T>(\n  value: T,\n  onChange: (newValue: T) => void,\n  debouncedMs = 100,\n): [T, (value: T) => void] {\n  const [inner, setInner] = useState<T>(() => value)\n  const timer = useRef<ReturnType<typeof setTimeout>>()\n\n  const onChangeInner = useCallback(\n    (newValue: T) => {\n      setInner(newValue)\n      if (timer.current) {\n        clearTimeout(timer.current)\n      }\n      timer.current = setTimeout(() => {\n        onChange(newValue)\n        timer.current = undefined\n      }, debouncedMs)\n    },\n    [debouncedMs, onChange],\n  )\n\n  useEffect(() => {\n    if (timer.current) {\n      clearTimeout(timer.current)\n      timer.current = undefined\n    }\n    setInner(value)\n  }, [value])\n\n  return [inner, onChangeInner]\n}\n","import { Link } from 'react-router-dom'\nimport styled from 'styled-components'\n\n// An internal link from the react-router-dom library that is correctly styled\nconst StyledInternalLink = styled(Link)`\n  text-decoration: none;\n  cursor: pointer;\n  color: ${({ theme }) => theme.colors.primary};\n  font-weight: 500;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  :active {\n    text-decoration: none;\n  }\n`\n\nexport default StyledInternalLink\n"],"sourceRoot":""}